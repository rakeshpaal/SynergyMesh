metadata:
  description: User management microservice with authentication
  name: user-service
  version: 1.0.0
spec:
  architecture:
    layers:
    - presentation
    - application
    - domain
    - infrastructure
    pattern: clean-architecture
  deliverables:
    ci_cd:
      platform: github-actions
      stages:
      - lint
      - test
      - build
      - security-scan
      - deploy
    docker:
      healthcheck: true
      multi_stage: true
    kubernetes:
      deployment: true
      hpa: true
      service: true
    tests:
      coverage_threshold: 85
      integration: true
      unit: true
  features:
    api:
      openapi_version: 3.1.0
      rest: true
    cache:
      type: redis
    database:
      migrations: alembic
      orm: sqlalchemy
      type: postgresql
    messaging:
      topics:
      - user.created
      - user.updated
      - user.deleted
      type: kafka
    observability:
      health_checks: true
      logging: structured
      metrics: prometheus
      tracing: opentelemetry
  framework: fastapi
  governance:
    compliance:
    - ISO-42001
    - SOC2
    - GDPR
    license: MIT
    provenance: slsa-level-3
    sbom: true
    security_level: high
  language: python
  type: microservice
