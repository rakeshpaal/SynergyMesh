# ═══════════════════════════════════════════════════════════════════════════════
#                    Structural Governance System - Subsystem Entity
#                    結構治理系統 - 子系統實體
# ═══════════════════════════════════════════════════════════════════════════════
#
# Schema: https://schema.superroot.kn/mndoc/entity/subsystem/v1
# Source: README.md - Structural Governance System section
#
# ═══════════════════════════════════════════════════════════════════════════════

$schema: "https://schema.superroot.kn/mndoc/entity/subsystem/v1"
entity: "Subsystem"
id: "structural-governance"
type: "subsystem"
title: "Structural Governance System"
description: |
  SuperRoot 風格的 Schema 命名空間與自主治理基礎設施。SuperRoot-style Schema 
  namespace and autonomous governance infrastructure.

layer: "governance"
domain: "governance"

# Governance capabilities
capabilities:
  - schema-validation
  - policy-enforcement
  - sbom-generation
  - provenance-tracking
  - audit-logging
  - supply-chain-security

# Ten-stage governance pipeline stages
pipelines:
  - lint            # YAML/JSON 語法檢查
  - format          # 格式化規則驗證
  - schema          # JSON Schema 驗證
  - vector-test     # 測試向量驗證
  - policy-gate     # OPA/Conftest 策略檢查
  - k8s-validation  # Kubernetes 清單驗證
  - sbom            # 軟體物料清單生成
  - provenance      # SLSA 證據注入
  - sign            # Sigstore 無密鑰簽名
  - audit           # 審計事件記錄

# Components
components:
  - "schema-validator"
  - "policy-gate"
  - "provenance-injector"
  - "sbom-generator"
  - "audit-logger"

interfaces:
  - "governance_api"
  - "schema_registry"
  - "policy_engine"

dependencies:
  - "governance/schemas/"
  - "governance/policies/"
  - "governance/sbom/"
  - "governance/audit/"

owner: "governance-team"
status: "active"

tags:
  - governance
  - slsa
  - schema
  - policy
  - compliance
  - supply-chain

meta:
  schema_namespace: "https://schema.synergymesh.io/docs-index/v1"
  required_fields:
    - id
    - path
    - title
    - domain
    - layer
    - type
    - tags
    - owner
    - status
    - description
  optional_supply_chain_fields:
    - platforms
    - languages
    - provenance
    - sbom
    - signature
    - links
    - meta
  
  tools:
    validate_index: "tools/docs/validate_index.py"
    scan_repo: "tools/docs/scan_repo_generate_index.py"
    provenance_injector: "tools/docs/provenance_injector.py"

evidence_ref:
  sbom: "governance/sbom/structural-governance.yaml"
  signature: "governance/signature/structural-governance.sig"
  slsa_ref: ".slsa/provenance/structural-governance.json"
