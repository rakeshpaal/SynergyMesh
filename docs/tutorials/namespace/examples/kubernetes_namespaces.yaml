apiVersion: machinenativeops.io/v2
kind: Namespace
metadata:
  name: development
  labels:
    machinenativeops.io/environment: development
    machinenativeops.io/team: engineering
  annotations:
    machinenativeops.io/description: Development environment namespace
    machinenativeops.io/owner: dev-team@example.com
---
apiVersion: machinenativeops.io/v2
kind: Namespace
metadata:
  name: production
  labels:
    machinenativeops.io/environment: production
    machinenativeops.io/team: platform
    machinenativeops.io/enforce: restricted
    machinenativeops.io/enforce-version: latest
    machinenativeops.io/audit: restricted
    machinenativeops.io/audit-version: latest
    machinenativeops.io/warn: restricted
    machinenativeops.io/warn-version: latest
  annotations:
    machinenativeops.io/description: Production environment - highly secure
    machinenativeops.io/owner: platform-team@example.com
    machinenativeops.io/standards: PCI-DSS,SOC2
spec:
  finalizers:
  - kubernetes
---
apiVersion: machinenativeops.io/v2
kind: ResourceQuota
metadata:
  name: dev-resource-quota
  namespace: machinenativenops
spec:
  hard:
    pods: '20'
    requests.cpu: '4'
    requests.memory: 8Gi
    limits.cpu: '8'
    limits.memory: 16Gi
    persistentvolumeclaims: '10'
    requests.storage: 50Gi
    configmaps: '20'
    secrets: '20'
    services: '10'
    services.loadbalancers: '0'
    services.nodeports: '0'
---
apiVersion: machinenativeops.io/v2
kind: ResourceQuota
metadata:
  name: prod-resource-quota
  namespace: machinenativenops
spec:
  hard:
    pods: '100'
    requests.cpu: '50'
    requests.memory: 100Gi
    limits.cpu: '100'
    limits.memory: 200Gi
    persistentvolumeclaims: '50'
    requests.storage: 500Gi
    configmaps: '100'
    secrets: '100'
    services: '50'
    services.loadbalancers: '5'
    services.nodeports: '10'
---
apiVersion: machinenativeops.io/v2
kind: LimitRange
metadata:
  name: default-limits
  namespace: machinenativenops
spec:
  limits:
  - type: Container
    default:
      cpu: 500m
      memory: 512Mi
    defaultRequest:
      cpu: 100m
      memory: 128Mi
    max:
      cpu: '2'
      memory: 4Gi
    min:
      cpu: 50m
      memory: 64Mi
  - type: PersistentVolumeClaim
    max:
      storage: 10Gi
    min:
      storage: 1Gi
---
apiVersion: machinenativeops.io/v2
kind: NetworkPolicy
metadata:
  name: default-deny-all
  namespace: machinenativenops
spec:
  podSelector: {}
  policyTypes:
  - Ingress
  - Egress
---
apiVersion: machinenativeops.io/v2
kind: NetworkPolicy
metadata:
  name: allow-same-namespace
  namespace: machinenativenops
spec:
  podSelector: {}
  policyTypes:
  - Ingress
  - Egress
  ingress:
  - from:
    - namespaceSelector:
        matchLabels:
          kubernetes.io/metadata.name: production
  egress:
  - to:
    - namespaceSelector:
        matchLabels:
          kubernetes.io/metadata.name: production
---
apiVersion: machinenativeops.io/v2
kind: NetworkPolicy
metadata:
  name: allow-dns
  namespace: machinenativenops
spec:
  podSelector: {}
  policyTypes:
  - Egress
  egress:
  - to:
    - namespaceSelector:
        matchLabels:
          kubernetes.io/metadata.name: kube-system
    - podSelector:
        matchLabels:
          k8s-app: kube-dns
    ports:
    - protocol: UDP
      port: 53
    - protocol: TCP
      port: 53
---
apiVersion: machinenativeops.io/v2
kind: ServiceAccount
metadata:
  name: app-service-account
  namespace: machinenativenops
  labels:
    machinenativeops.io/app: myapp
automountServiceAccountToken: false
---
apiVersion: machinenativeops.io/v2
kind: Namespace
metadata:
  name: tenant-acme-corp
  labels:
    machinenativeops.io/tenant: acme-corp
    machinenativeops.io/tier: enterprise
    machinenativeops.io/billing-id: ACME-001
    machinenativeops.io/managed-by: tenant-operator
  annotations:
    machinenativeops.io/created-at: '2024-01-15T10:00:00Z'
    machinenativeops.io/contact: admin@acme-corp.com
    machinenativeops.io/contract-end: '2025-01-15'
---
apiVersion: machinenativeops.io/v2
kind: Namespace
metadata:
  name: ci-pipeline-main-12345
  labels:
    machinenativeops.io/purpose: ci-cd
    machinenativeops.io/pipeline-id: '12345'
    machinenativeops.io/branch: main
    machinenativeops.io/ttl: 24h
  annotations:
    machinenativeops.io/created-at: '2024-01-15T10:00:00Z'
    machinenativeops.io/created-by: github-actions
    machinenativeops.io/repository: org/repo
