apiVersion: machinenativeops.io/v1
kind: RootURNRegistry
metadata:
  annotations:
    machinenativeops.io/description: Authoritative registry for all MachineNativeOps
      URNs
    machinenativeops.io/enforcement: strict
    machinenativeops.io/last-modified: '2025-12-21T02:00:00Z'
    machinenativeops.io/ssot: 'true'
  labels:
    machinenativeops.io/component: urn-registry
    machinenativeops.io/tier: registry
    machinenativeops.io/version: v1.0.0
  name: urn-registry
  namespace: machinenativenops
spec:
  audit_urns:
  - created: '2025-12-21T02:00:00Z'
    identifier: governance-audit
    status: active
    target_path: spec.audit_trails.governance
    target_registry: root.provenance.yaml
    type: audit
    urn: urn:machinenativeops:audit:governance-audit:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: security-audit
    status: active
    target_path: spec.audit_trails.security
    target_registry: root.provenance.yaml
    type: audit
    urn: urn:machinenativeops:audit:security-audit:v1
    version: v1
  certificate_urns:
  - created: '2025-12-21T02:00:00Z'
    identifier: root-ca
    status: active
    target_path: spec.certificates.root_ca
    target_registry: root.trust.yaml
    type: certificate
    urn: urn:machinenativeops:certificate:root-ca:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: intermediate-ca
    status: active
    target_path: spec.certificates.intermediate_ca
    target_registry: root.trust.yaml
    type: certificate
    urn: urn:machinenativeops:certificate:intermediate-ca:v1
    version: v1
  config_urns:
  - created: '2025-12-21T02:00:00Z'
    identifier: root-config
    status: active
    target_path: metadata.name
    target_registry: root.config.yaml
    type: config
    urn: urn:machinenativeops:config:root-config:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: root-governance
    status: active
    target_path: metadata.name
    target_registry: root.governance.yaml
    type: config
    urn: urn:machinenativeops:config:root-governance:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: root-modules
    status: active
    target_path: metadata.name
    target_registry: root.modules.yaml
    type: config
    urn: urn:machinenativeops:config:root-modules:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: root-trust
    status: active
    target_path: metadata.name
    target_registry: root.trust.yaml
    type: config
    urn: urn:machinenativeops:config:root-trust:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: root-provenance
    status: active
    target_path: metadata.name
    target_registry: root.provenance.yaml
    type: config
    urn: urn:machinenativeops:config:root-provenance:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: root-integrity
    status: active
    target_path: metadata.name
    target_registry: root.integrity.yaml
    type: config
    urn: urn:machinenativeops:config:root-integrity:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: root-bootstrap
    status: active
    target_path: metadata.name
    target_registry: root.bootstrap.yaml
    type: config
    urn: urn:machinenativeops:config:root-bootstrap:v1
    version: v1
  module_urns:
  - created: '2025-12-21T02:00:00Z'
    identifier: config-manager
    status: active
    target_path: spec.modules[id=config-manager]
    target_registry: root.registry.modules.yaml
    type: module
    urn: urn:machinenativeops:module:config-manager:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: logging-service
    status: active
    target_path: spec.modules[id=logging-service]
    target_registry: root.registry.modules.yaml
    type: module
    urn: urn:machinenativeops:module:logging-service:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: governance-engine
    status: active
    target_path: spec.modules[id=governance-engine]
    target_registry: root.registry.modules.yaml
    type: module
    urn: urn:machinenativeops:module:governance-engine:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: trust-manager
    status: active
    target_path: spec.modules[id=trust-manager]
    target_registry: root.registry.modules.yaml
    type: module
    urn: urn:machinenativeops:module:trust-manager:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: provenance-tracker
    status: active
    target_path: spec.modules[id=provenance-tracker]
    target_registry: root.registry.modules.yaml
    type: module
    urn: urn:machinenativeops:module:provenance-tracker:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: integrity-validator
    status: active
    target_path: spec.modules[id=integrity-validator]
    target_registry: root.registry.modules.yaml
    type: module
    urn: urn:machinenativeops:module:integrity-validator:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: super-execution-engine
    status: active
    target_path: spec.modules[id=super-execution-engine]
    target_registry: root.registry.modules.yaml
    type: module
    urn: urn:machinenativeops:module:super-execution-engine:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: monitoring-service
    status: active
    target_path: spec.modules[id=monitoring-service]
    target_registry: root.registry.modules.yaml
    type: module
    urn: urn:machinenativeops:module:monitoring-service:v1
    version: v1
  policy_urns:
  - created: '2025-12-21T02:00:00Z'
    identifier: rbac-policy
    status: active
    target_path: spec.rbac
    target_registry: root.governance.yaml
    type: policy
    urn: urn:machinenativeops:policy:rbac-policy:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: audit-policy
    status: active
    target_path: spec.audit
    target_registry: root.governance.yaml
    type: policy
    urn: urn:machinenativeops:policy:audit-policy:v1
    version: v1
  - created: '2025-12-21T02:00:00Z'
    identifier: security-policy
    status: active
    target_path: spec.security
    target_registry: root.governance.yaml
    type: policy
    urn: urn:machinenativeops:policy:security-policy:v1
    version: v1
  registry_metadata:
    last_updated: '2025-12-21T02:00:00Z'
    schema_version: 1.0.0
    total_urns: 21
    validation_status: validated
  registry_type: urns
  resolution_rules:
  - cache_enabled: true
    cache_ttl: 300s
    lookup_order:
    - root.registry.modules.yaml
    - root.modules.yaml
    type: module
  - cache_enabled: true
    cache_ttl: 600s
    lookup_order:
    - root.*.yaml
    type: config
  - cache_enabled: true
    cache_ttl: 300s
    lookup_order:
    - root.governance.yaml
    type: policy
  - cache_enabled: false
    lookup_order:
    - root.trust.yaml
    type: certificate
  - cache_enabled: true
    cache_ttl: 60s
    lookup_order:
    - root.provenance.yaml
    type: audit
  urn_format:
    components:
      identifier: '[a-z0-9-]+'
      namespace: machinenativeops
      scheme: urn
      type: module|service|config|policy|certificate|audit
      version: v\d+ (optional)
    pattern: ^urn:machinenativeops:(module|service|config|policy|certificate|audit):[a-z0-9-]+(:v\d+)?$
  validation:
    checks:
      format:
        enabled: true
        pattern: ^urn:machinenativeops:(module|service|config|policy|certificate|audit):[a-z0-9-]+(:v\d+)?$
      target_existence:
        enabled: true
        verify_on_commit: true
      type_matching:
        enabled: true
        strict: true
      uniqueness:
        enabled: true
        scope: global
    enabled: true
    rules:
    - 所有 URN 必須唯一
    - 所有 URN 必須符合格式規範
    - 所有 URN 的目標必須存在
    - 版本號必須有效
    - 類型必須匹配目標資源
  version: 1
status:
  conditions:
  - lastTransitionTime: '2025-12-21T02:00:00Z'
    message: URN registry is complete and validated
    reason: RegistryComplete
    status: 'True'
    type: Validated
  phase: Active
  statistics:
    active_urns: 21
    audit_urns: 2
    certificate_urns: 2
    config_urns: 7
    deprecated_urns: 0
    module_urns: 8
    policy_urns: 3
    total_urns: 21
