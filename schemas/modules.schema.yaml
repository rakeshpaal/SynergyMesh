apiVersion: machinenativeops.io/v2
data:
  schema.yaml: "# Root Modules Configuration Schema\ntype: object\nproperties:\n \
    \ modules:\n    type: array\n    items:\n      type: object\n      properties:\n\
    \        name:\n          type: string\n          pattern: \"^[a-z0-9-]+$\"\n\
    \        version:\n          type: string\n          pattern: \"^\\\\d+\\\\.\\\
    \\d+\\\\.\\\\d+$\"\n        description:\n          type: string\n        entrypoint:\n\
    \          type: string\n        group:\n          type: string\n        priority:\n\
    \          type: integer\n          minimum: 0\n          maximum: 100\n     \
    \   enabled:\n          type: boolean\n        auto_start:\n          type: boolean\n\
    \        dependencies:\n          type: array\n          items:\n            type:\
    \ object\n            properties:\n              name:\n                type:\
    \ string\n              version:\n                type: string\n             \
    \ optional:\n                type: boolean\n        resources:\n          type:\
    \ object\n          properties:\n            cpu:\n              type: object\n\
    \              properties:\n                request:\n                  type:\
    \ string\n                limit:\n                  type: string\n           \
    \ memory:\n              type: object\n              properties:\n           \
    \     request:\n                  type: string\n                limit:\n     \
    \             type: string\n      required: [\"name\", \"version\", \"description\"\
    , \"entrypoint\", \"group\", \"priority\", \"enabled\", \"auto_start\", \"dependencies\"\
    , \"resources\"]\n  groups:\n    type: array\n    items:\n      type: object\n\
    \      properties:\n        name:\n          type: string\n        description:\n\
    \          type: string\n        priority:\n          type: integer\n        criticality:\n\
    \          type: string\n          enum: [\"critical\", \"high\", \"medium\",\
    \ \"low\"]\n        auto_start:\n          type: boolean\n        fail_fast:\n\
    \          type: boolean\n      required: [\"name\", \"description\", \"priority\"\
    , \"criticality\", \"auto_start\", \"fail_fast\"]\nrequired: [\"modules\", \"\
    groups\"]"
kind: ConfigMap
metadata:
  name: modules-schema
  namespace: machinenativenops
