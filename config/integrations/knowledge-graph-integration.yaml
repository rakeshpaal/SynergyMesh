knowledge_graph_integration:
  caching:
    cache_types:
    - max_size: 1000
      name: query_results
      ttl_seconds: 300
    - max_size: 10000
      name: embeddings
      ttl_seconds: 3600
    - max_size: 500
      name: graph_patterns
      ttl_seconds: 600
    enabled: true
    invalidation:
      on_delete: true
      on_update: true
  connection:
    keepalive: true
    max_idle_connections: 5
    pool_size: 20
    retry_attempts: 3
    timeout_ms: 3000
  data_quality:
    cleanup:
      actions:
      - remove_orphan_nodes
      - merge_duplicate_entities
      - archive_old_relationships
      enabled: true
      frequency: weekly
    enabled: true
    validation_rules:
    - check: required_fields_present
      name: entity_completeness
      severity: error
    - check: both_nodes_exist
      name: relationship_validity
      severity: error
    - check: no_duplicate_entities
      name: duplicate_detection
      severity: warning
  enabled: true
  entity_extraction:
    enabled: true
    entity_types:
    - Service
    - Module
    - Component
    - API
    - Configuration
    - Deployment
    - Person
    - Team
    - Issue
    - Pull Request
    extraction_methods:
<<<<<<< HEAD
    - enabled: true
      model: spacy-en_core_web_lg
      name: named_entity_recognition
    - enabled: true
      name: dependency_parsing
    - enabled: false
      name: semantic_role_labeling
=======
      - name: "named_entity_recognition"
        model: "spacy-en_core_web_lg"
        enabled: true
      - name: "dependency_parsing"
        enabled: true
      - name: "semantic_role_labeling"
        enabled: false
  
  # Relationship Extraction
  relationship_extraction:
    enabled: true
    
    relationship_types:
      - "DEPENDS_ON"
      - "PROVIDES"
      - "USES"
      - "CONFIGURES"
      - "DEPLOYS"
      - "OWNS"
      - "MAINTAINS"
      - "IMPLEMENTS"
      - "RELATES_TO"
      - "REFERENCES"
    
    extraction_methods:
      - name: "rule_based"
        enabled: true
      - name: "pattern_matching"
        enabled: true
      - name: "ml_based"
        enabled: false
  
  # Semantic Search
  semantic_search:
    enabled: true
    
    embedding_model:
      name: "machinenativeops-embed-v2"
      dimension: 1024
      max_sequence_length: 512
    
    search_strategies:
      - name: "vector_similarity"
        weight: 0.6
        enabled: true
      - name: "graph_traversal"
        weight: 0.3
        enabled: true
      - name: "keyword_matching"
        weight: 0.1
        enabled: true
    
    ranking:
      algorithm: "hybrid_fusion"
      relevance_threshold: 0.7
      max_results: 20
  
  # Graph Construction
>>>>>>> main
  graph_construction:
    batch_size: 100
    consistency_check:
      actions:
      - detect_orphan_nodes
      - validate_relationships
      - deduplicate_entities
      enabled: true
      frequency: daily
    enabled: true
    graph_enrichment:
      enabled: true
      strategies:
      - transitive_closure
      - community_detection
      - centrality_analysis
      - path_finding
    incremental_update: true
  graph_database:
    authentication:
      enabled: true
      password: ${NEO4J_PASSWORD}
      username: ${NEO4J_USERNAME}
    connection_string: bolt://neo4j.unmanned-island-system.svc.cluster.local:7687
    pool:
      acquire_timeout_ms: 5000
      idle_timeout_ms: 30000
      max_connections: 50
    type: neo4j
  hlp_executor:
    enabled: true
    query_patterns:
    - cypher: MATCH (t:Task)-[:DEPENDS_ON*]->(d:Task) WHERE t.id = $task_id RETURN
        d
      name: find_dependencies
    - cypher: MATCH (t:Task)-[:USES]->(r:Resource) WHERE t.id = $task_id RETURN r
      name: find_related_resources
    - cypher: MATCH (r:Resource)<-[:USES]-(t:Task) WHERE r.id = $resource_id RETURN
        t
      name: find_impact_scope
    use_cases:
    - description: Resolve task dependencies using knowledge graph
      enabled: true
      name: dependency_resolution
    - description: Enrich execution context with related information
      enabled: true
      name: context_enrichment
    - description: Analyze impact of changes using graph relationships
      enabled: true
      name: impact_analysis
    - description: Recommend related tasks or resources
      enabled: true
      name: recommendation
  kg_builder_endpoint: kg-graph-builder.unmanned-island-system.svc.cluster.local:8890
  monitoring:
    alerts:
    - condition: p95_query_latency > 1000ms
      name: high_query_latency
      severity: warning
    - condition: cache_hit_rate < 0.5
      name: low_cache_hit_rate
      severity: info
    - condition: entity_growth_rate > 2x daily_average
      name: graph_growth_anomaly
      severity: warning
    enabled: true
    metrics:
    - query_latency
    - cache_hit_rate
    - graph_size
    - entity_count
    - relationship_count
    - embedding_generation_time
  relationship_extraction:
    enabled: true
    extraction_methods:
    - enabled: true
      name: rule_based
    - enabled: true
      name: pattern_matching
    - enabled: false
      name: ml_based
    relationship_types:
    - DEPENDS_ON
    - PROVIDES
    - USES
    - CONFIGURES
    - DEPLOYS
    - OWNS
    - MAINTAINS
    - IMPLEMENTS
    - RELATES_TO
    - REFERENCES
  semantic_search:
    embedding_model:
      dimension: 1024
      max_sequence_length: 512
      name: axiom-embed-v2
    enabled: true
    ranking:
      algorithm: hybrid_fusion
      max_results: 20
      relevance_threshold: 0.7
    search_strategies:
    - enabled: true
      name: vector_similarity
      weight: 0.6
    - enabled: true
      name: graph_traversal
      weight: 0.3
    - enabled: true
      name: keyword_matching
      weight: 0.1
  vector_database:
    collection_config:
      dimension: 1024
      index_type: IVF_FLAT
      metric_type: IP
      nlist: 1024
    connection_string: milvus.unmanned-island-system.svc.cluster.local:19530
    search_config:
      search_params:
        ef: 64
        nprobe: 10
      top_k: 10
    type: milvus
  vector_search_endpoint: kg-vector-hybrid.unmanned-island-system.svc.cluster.local:8891
  version: 1.0.0
