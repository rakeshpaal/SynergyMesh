app:
  debug: false
  environment: production
  name: MachineNativeOps
  version: 1.0.0
autoscaling:
  enabled: true
  max_replicas: 10
  metrics:
  - resource:
      name: cpu
      target:
        averageUtilization: 70
        type: Utilization
    type: Resource
  - resource:
      name: memory
      target:
        averageUtilization: 80
        type: Utilization
    type: Resource
  min_replicas: 2
  target_cpu_utilization: 70
  target_memory_utilization: 80
backup:
  databases:
  - connection: ${DATABASE_URL}
    name: primary
    type: postgresql
  enabled: true
  files:
  - exclude_patterns:
    - '*.tmp'
    - '*.log'
    path: /var/lib/machinenativeops
  retention_days: 30
  s3_bucket: ${BACKUP_BUCKET:machinenativeops-backups}
  schedule: 0 2 * * *
business:
  projects:
    auto_cleanup_days: 365
    default_priority: medium
    max_per_user: 100
  resources:
    default_cost_per_hour: 0.5
    utilization_threshold: 0.8
  tasks:
    auto_archive_days: 90
    default_estimated_hours: 8.0
    max_per_project: 1000
  workflows:
    default_timeout: 3600
    max_step_timeout: 300
    retry_policy:
      backoff_factor: 2
      max_attempts: 3
cache:
  ttl:
    business_data: 300
    metrics: 60
    user_sessions: 1800
  type: redis
database:
  host: ${DB_HOST:localhost}
  max_overflow: 30
  name: ${DB_NAME:machinenativeops}
  password: ${DB_PASSWORD}
  pool_size: 20
  port: ${DB_PORT:5432}
  ssl_mode: require
  type: postgresql
  user: ${DB_USER:mno_user}
feature_flags:
  advanced_analytics: true
  advanced_security: true
  custom_workflows: true
  multi_tenant: false
  real_time_notifications: true
load_balancer:
  algorithm: round_robin
  enabled: true
  health_check:
    healthy_threshold: 2
    interval: 5
    path: /health
    timeout: 2
    unhealthy_threshold: 3
logging:
  format: json
  handlers:
    console:
      enabled: true
      level: INFO
    file:
      backup_count: 10
      enabled: true
      level: INFO
      max_size: 100MB
      path: /var/log/machinenativeops
    syslog:
      address: ${SYSLOG_ADDRESS}
      enabled: true
      facility: local0
      level: WARNING
  level: INFO
message_queue:
  exchanges:
    business_events: mno.business
    workflow_events: mno.workflows
  host: ${RABBITMQ_HOST:localhost}
  password: ${RABBITMQ_PASSWORD}
  port: ${RABBITMQ_PORT:5672}
  queues:
    project_tasks: mno.project.tasks
    task_notifications: mno.task.notifications
  type: rabbitmq
  user: ${RABBITMQ_USER}
  virtual_host: /mno
monitoring:
  health_check:
    enabled: true
    interval: 30
    timeout: 5
  jaeger:
    enabled: true
    endpoint: ${JAEGER_ENDPOINT}
    service_name: machinenativeops-business
  prometheus:
    enabled: true
    metrics_path: /metrics
    port: 9090
network:
  external_port: 443
  firewall:
    allowed_ips:
    - 0.0.0.0/0
    blocked_ips: []
    enabled: true
  internal_port: 8000
  ssl:
    certificate_path: /etc/ssl/certs/mno.crt
    enabled: true
    private_key_path: /etc/ssl/private/mno.key
redis:
  db: 0
  host: ${REDIS_HOST:localhost}
  password: ${REDIS_PASSWORD}
  pool_size: 10
  port: ${REDIS_PORT:6379}
  ssl: true
required_env_vars:
- JWT_SECRET_KEY
- DB_PASSWORD
- REDIS_PASSWORD
- AWS_ACCESS_KEY_ID
- AWS_SECRET_ACCESS_KEY
security:
  cors:
    allow_credentials: true
    allowed_headers:
    - '*'
    allowed_methods:
    - GET
    - POST
    - PUT
    - DELETE
    allowed_origins:
    - ${FRONTEND_URL}
  jwt:
    access_token_expire_minutes: 30
    algorithm: HS256
    refresh_token_expire_days: 7
    secret_key: ${JWT_SECRET_KEY}
  rate_limiting:
    burst_size: 10
    enabled: true
    requests_per_minute: 60
service_discovery:
  enabled: true
  host: ${CONSUL_HOST:localhost}
  port: ${CONSUL_PORT:8500}
  service:
    deregister_critical_service_after: 30s
    health_check_interval: 10
    name: machinenativeops-business
    tags:
    - business
    - api
    - v1
  type: consul
services:
  business_api:
    host: 0.0.0.0
    max_connections: 1000
    port: 8000
    timeout: 30
    workers: 4
  policy_engine:
    cache_ttl: 600
    policy_refresh_interval: 300
  workflow_engine:
    max_concurrent_workflows: 50
    retry_attempts: 3
    workflow_timeout: 3600
storage:
  access_key: ${AWS_ACCESS_KEY_ID}
  bucket: ${S3_BUCKET:machinenativeops-data}
  encryption:
    algorithm: AES256
    enabled: true
  lifecycle:
    expiration_days: 365
    transition_days: 30
  region: ${AWS_REGION:us-east-1}
  secret_key: ${AWS_SECRET_ACCESS_KEY}
  type: s3
