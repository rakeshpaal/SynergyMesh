description: 完整的自動化整合週期：掃描 → 合併 → 同步 → 驗證
enabled: true
error_handling:
  on_stage_failure: continue_to_next
  rollback:
    enabled: true
name: 全自動整合管道
pipeline_id: integration_full_cycle
stages:
- engine_type: execution
  name: 掃描遺留資產
  operation: scan
  params:
    target: docs/refactor_playbooks/_legacy_scratch
  stage_id: scan_legacy
  timeout: 60
- depends_on:
  - scan_legacy
  engine_type: cognitive
  name: 分析資產
  operation: analyze
  stage_id: analyze
  timeout: 120
- depends_on:
  - analyze
  engine_type: integration
  name: 執行整合
  operation: full_integration
  stage_id: integrate
  timeout: 300
- depends_on:
  - integrate
  engine_type: integration
  name: 同步索引
  operation: update_indexes
  stage_id: sync_indexes
  timeout: 60
- depends_on:
  - sync_indexes
  engine_type: validation
  name: 驗證結果
  operation: validate_all
  stage_id: validate
  timeout: 60
triggers:
- schedule: 0 */12 * * *
  type: cron
- event: asset.added
  filter:
    path: docs/refactor_playbooks/_legacy_scratch/**
  type: event
