alerts:
  channels:
  - channel: '#auto-fix-bot-alerts'
    type: slack
    webhook_url: ${AUTO_FIX_BOT_SLACK_WEBHOOK_URL}
  - from: alerts@auto-fix-bot.dev
    smtp_port: 587
    smtp_server: smtp.example.com
    to:
    - devops@example.com
    - engineering@example.com
    type: email
  - integration_key: ${AUTO_FIX_BOT_PAGERDUTY_KEY}
    type: pagerduty
  enabled: true
  rules:
  - channels:
    - slack
    - pagerduty
    condition: error_rate > 5%
    duration: 5
    name: high-error-rate
    severity: critical
  - channels:
    - slack
    - email
    condition: timeout_rate > 10%
    duration: 3
    name: task-timeout
    severity: warning
  - channels:
    - slack
    condition: queue_depth > 1000
    duration: 10
    name: queue-backlog
    severity: warning
  - channels:
    - slack
    - pagerduty
    - email
    condition: provider_health < 1
    duration: 1
    name: provider-unhealthy
    severity: critical
  - channels:
    - slack
    condition: success_rate < 95%
    duration: 5
    name: low-success-rate
    severity: warning
backup:
  enabled: true
  retention_days: 30
  schedule: 0 0 * * *
  storage:
    bucket: auto-fix-bot-backups
    region: us-east-1
    type: s3
cloud_providers:
  aws:
    enabled: true
    environment_variables:
      LOG_LEVEL: info
      NODE_ENV: production
    layers:
    - arn:aws:lambda:us-east-1:123456789012:layer:auto-fix-bot-deps:1
    memory_size: 1024
    region: us-east-1
    runtime: nodejs18.x
    service: lambda
    timeout: 300
    vpc_config:
      enabled: false
  azure:
    app_settings:
      LOG_LEVEL: info
      NODE_ENV: production
    enabled: true
    memory: 1024
    region: eastus
    runtime: node
    runtime_version: '18'
    service: functions
    timeout: 300
  gcp:
    enabled: true
    environment_variables:
      LOG_LEVEL: info
      NODE_ENV: production
    memory: 1024
    region: us-central1
    runtime: nodejs18
    service: cloud-functions
    timeout: 300
compliance:
  gdpr:
    data_residency: EU
    enabled: true
  hipaa:
    enabled: false
    encryption_at_rest: true
    encryption_in_transit: true
  soc2:
    audit_logging: true
    enabled: true
cost_optimization:
  auto_scaling:
    enabled: true
    max_capacity: 100
    min_capacity: 5
    scale_down_cooldown: 300
    scale_up_cooldown: 60
    target_cpu_utilization: 70
  cost_alerts:
  - action: notify
    period: daily
    threshold: 1000
  - action: notify
    period: monthly
    threshold: 20000
  enabled: true
  idle_cleanup:
    cleanup_interval: 600
    enabled: true
    idle_time_threshold: 300
  reserved_capacity:
    enabled: false
    instance_count: 10
    provider: aws
delegation_strategy:
  failover:
    enabled: true
    fallback_providers:
    - aws
    - gcp
    - azure
    retry_policy:
      backoff_multiplier: 2
      backoff_strategy: exponential
      initial_delay: 1
      max_attempts: 3
      max_delay: 10
  load_balancing:
    algorithm: weighted-round-robin
    health_check:
      enabled: true
      healthy_threshold: 2
      interval: 30
      timeout: 10
      unhealthy_threshold: 3
    weights:
      aws: 40
      azure: 25
      gcp: 35
  task_routing:
    rules:
    - max_parallel: 10
      name: code-analysis
      pattern: analyze:*
      preferred_provider: aws
      priority: high
    - max_parallel: 20
      name: auto-fix
      pattern: fix:*
      preferred_provider: gcp
      priority: high
    - max_parallel: 5
      name: optimization
      pattern: optimize:*
      preferred_provider: azure
      priority: medium
    - max_parallel: 15
      name: security-scan
      pattern: security:*
      preferred_provider: aws
      priority: critical
    - max_parallel: 8
      name: report-generation
      pattern: report:*
      preferred_provider: gcp
      priority: low
description: Auto-Fix Bot 雲端代理程式委派系統配置
documentation:
  contact: devops@auto-fix-bot.dev
  last_updated: '2025-11-21'
  maintainer: Auto-Fix Bot DevOps Team
  version: 1.0.0
experimental:
  ai_routing:
    enabled: false
    model: task-router-v1
  multi_region_failover:
    enabled: false
    regions:
    - us-east-1
    - eu-west-1
    - ap-southeast-1
  predictive_scaling:
    enabled: false
    model: demand-predictor-v1
global:
  enabled: true
  environment: production
  region: global
  timezone: UTC
metadata:
  author: Auto-Fix Bot Team
  created_at: '2025-11-21'
  quality:
    completeness: 所有必要配置項已定義
    consistency: 跨提供商配置保持一致性
    security: 符合零信任架構要求
  schema_version: '1.0'
  updated_at: '2025-11-21'
  validation:
    purpose: 確保多雲委派配置的正確性和安全性
    required_checks:
    - provider credentials validation
    - network security compliance
    - resource quota verification
monitoring:
  enabled: true
  logging:
    format: json
    level: info
    outputs:
    - type: stdout
    - log_group: /auto-fix-bot/delegation
      log_stream: tasks
      type: cloudwatch
    - log_name: delegation
      project_id: auto-fix-bot-project
      type: stackdriver
  metrics:
    endpoint: https://metrics.auto-fix-bot.dev
    metrics_list:
    - labels:
      - task_type
      - provider
      - status
      name: task_execution_time
      type: histogram
    - labels:
      - task_type
      - provider
      name: task_success_rate
      type: gauge
    - labels:
      - task_type
      - provider
      - error_type
      name: task_error_rate
      type: gauge
    - labels:
      - queue_name
      name: queue_depth
      type: gauge
    - labels:
      - task_type
      - provider
      name: concurrent_tasks
      type: gauge
    - labels:
      - provider
      name: provider_health
      type: gauge
    provider: prometheus
    push_interval: 30
  tracing:
    enabled: true
    endpoint: https://tracing.auto-fix-bot.dev
    provider: jaeger
    sample_rate: 0.1
name: auto-fix-bot-cloud-delegation
notes: '此配置文件定義了 Auto-Fix Bot 雲端代理程式委派系統的完整設置。


  主要功能：

  1. 多雲端提供商支援（AWS, GCP, Azure）

  2. 智能負載均衡和故障轉移

  3. 任務路由和優先級管理

  4. 全面的監控和告警

  5. 安全和合規性保障

  6. 成本優化和性能調優


  使用前請確保：

  - 所有環境變量已正確設置

  - 雲端提供商憑證已配置

  - 網絡和防火牆規則已設置

  - 監控和告警服務已啟用

  '
performance:
  batching:
    batch_size: 50
    batch_timeout: 5
    enabled: true
  cache:
    enabled: true
    endpoint: redis.auto-fix-bot.dev:6379
    ttl: 3600
    type: redis
  compression:
    algorithm: gzip
    enabled: true
    level: 6
  connection_pool:
    idle_timeout: 60
    max_size: 100
    min_size: 10
security:
  authentication:
    api_key_header: X-API-Key
    enabled: true
    method: api-key
  authorization:
    enabled: true
    rules:
    - permissions:
      - '*'
      role: admin
    - permissions:
      - analyze
      - fix
      - optimize
      role: developer
    - permissions:
      - read
      role: viewer
  encryption:
    algorithm: AES-256-GCM
    enabled: true
    key_rotation_days: 90
  network:
    allowed_ips:
    - 10.0.0.0/8
    - 172.16.0.0/12
    - 192.168.0.0/16
    rate_limiting:
      burst_size: 100
      enabled: true
      requests_per_minute: 1000
tasks:
  auto_fix:
    concurrent_limit: 100
    enabled: true
    memory: 2048
    queue:
      name: auto-fix-bot-fix-queue
      type: pubsub
    timeout: 300
  code_analysis:
    concurrent_limit: 50
    enabled: true
    memory: 1024
    queue:
      name: auto-fix-bot-analysis-queue
      type: sqs
    timeout: 180
  optimization:
    concurrent_limit: 30
    enabled: true
    memory: 1536
    queue:
      name: auto-fix-bot-optimize-queue
      type: storage-queue
    timeout: 240
  report_generation:
    concurrent_limit: 20
    enabled: true
    memory: 512
    queue:
      name: auto-fix-bot-report-queue
      type: pubsub
    timeout: 120
  security_scan:
    concurrent_limit: 40
    enabled: true
    memory: 1024
    queue:
      name: auto-fix-bot-security-queue
      type: sqs
    timeout: 200
version: '1.0'
