apiVersion: machinenativeops.io/v2
kind: TenantTierConfig
metadata:
  description: 多租戶層級定義與資源配額 / Multi-tenant tier definitions and resource quotas
  name: tenant-tier-definitions
  version: v1.0.0
spec:
  billing:
    currency: USD
    cycle: monthly
    overage_charges: true
    overage_rate_multiplier: 1.5
    payment_terms_days: 30
    showback_reports:
      format: csv
      frequency: weekly
      include_forecast: true
      recipients:
      - finance@example.com
      - engineering-leads@example.com
  discount_tiers:
  - description: 10% discount for $10k+ monthly spend
    discount_percent: 10
    usage_threshold_usd: 10000
  - description: 20% discount for $50k+ monthly spend
    discount_percent: 20
    usage_threshold_usd: 50000
  - description: 30% discount for $100k+ monthly spend
    discount_percent: 30
    usage_threshold_usd: 100000
  enforcement:
    auto_throttle: true
    burst_allowance: true
    burst_duration_minutes: 15
    burst_ratio: 1.2
    grace_period_hours: 24
    hard_limits_enabled: true
    notification:
      channels:
      - email
      - slack
      quota_critical_threshold: 95
      quota_warning_threshold: 80
  references:
  - description: Kubernetes Resource Quotas
    url: https://kubernetes.io/docs/concepts/policy/resource-quotas/
  - description: Multi-Tenancy Best Practices
    url: https://kubernetes.io/docs/concepts/security/multi-tenancy/
  related_configs:
  - resource-optimization.yaml
  - cost-allocation-model.yaml
  tenant_tiers:
    business:
      cost:
        base_monthly_usd: 5000
        cpu_core_hour: 0.06
        memory_gb_hour: 0.012
        storage_gb_month: 0.2
        support_included: true
      description: 商業級租戶 / Business tier tenant
      features:
        advanced_monitoring: true
        backup_retention_days: 30
        custom_dashboards: false
        dedicated_nodes: false
        disaster_recovery: false
        gpu_access: true
        quantum_computing: false
      limits:
        max_namespaces: 25
        max_service_accounts: 100
        max_users: 50
      priority_class: medium-priority
      quotas:
        configmaps: '100'
        cpu_limits: '80'
        cpu_requests: '40'
        ingresses: '25'
        loadbalancers: '5'
        memory_limits: 160Gi
        memory_requests: 80Gi
        pods: '200'
        secrets: '100'
        services: '50'
        storage: 200Gi
      sla:
        response_time_critical: 30-minutes
        response_time_high: 2-hours
        response_time_medium: 8-hours
        support_level: business-hours
        uptime_target: '99.9'
      tier_level: 2
    development:
      cost:
        base_monthly_usd: 500
        cpu_core_hour: 0.03
        memory_gb_hour: 0.008
        storage_gb_month: 0.1
        support_included: false
      description: 開發測試環境 / Development environment
      features:
        advanced_monitoring: false
        backup_retention_days: 3
        custom_dashboards: false
        dedicated_nodes: false
        disaster_recovery: false
        gpu_access: false
        quantum_computing: false
      limits:
        max_namespaces: 5
        max_service_accounts: 20
        max_users: 10
      priority_class: low-priority
      quotas:
        configmaps: '25'
        cpu_limits: '20'
        cpu_requests: '10'
        ingresses: '5'
        loadbalancers: '1'
        memory_limits: 40Gi
        memory_requests: 20Gi
        pods: '50'
        secrets: '25'
        services: '20'
        storage: 50Gi
      sla:
        response_time_critical: next-business-day
        response_time_high: 2-business-days
        response_time_medium: 5-business-days
        support_level: best-effort
        uptime_target: '99.0'
      tier_level: 4
    enterprise:
      cost:
        base_monthly_usd: 10000
        cpu_core_hour: 0.08
        memory_gb_hour: 0.015
        storage_gb_month: 0.25
        support_included: true
      description: 企業級租戶 / Enterprise tier tenant
      features:
        advanced_monitoring: true
        backup_retention_days: 90
        custom_dashboards: true
        dedicated_nodes: true
        disaster_recovery: true
        gpu_access: true
        quantum_computing: true
      limits:
        max_namespaces: 50
        max_service_accounts: 200
        max_users: 100
      priority_class: high-priority
      quotas:
        configmaps: '200'
        cpu_limits: '160'
        cpu_requests: '80'
        ingresses: '50'
        loadbalancers: '10'
        memory_limits: 320Gi
        memory_requests: 160Gi
        pods: '400'
        secrets: '200'
        services: '100'
        storage: 500Gi
      sla:
        response_time_critical: 15-minutes
        response_time_high: 1-hour
        response_time_medium: 4-hours
        support_level: 24x7
        uptime_target: '99.95'
      tier_level: 1
    startup:
      cost:
        base_monthly_usd: 1000
        cpu_core_hour: 0.05
        memory_gb_hour: 0.01
        storage_gb_month: 0.15
        support_included: false
      description: 新創級租戶 / Startup tier tenant
      features:
        advanced_monitoring: false
        backup_retention_days: 7
        custom_dashboards: false
        dedicated_nodes: false
        disaster_recovery: false
        gpu_access: false
        quantum_computing: false
      limits:
        max_namespaces: 10
        max_service_accounts: 50
        max_users: 20
      priority_class: low-priority
      quotas:
        configmaps: '50'
        cpu_limits: '40'
        cpu_requests: '20'
        ingresses: '10'
        loadbalancers: '2'
        memory_limits: 80Gi
        memory_requests: 40Gi
        pods: '100'
        secrets: '50'
        services: '25'
        storage: 100Gi
      sla:
        response_time_critical: 4-hours
        response_time_high: 8-hours
        response_time_medium: 24-hours
        support_level: email-only
        uptime_target: '99.5'
      tier_level: 3
  version: v1.0.0
