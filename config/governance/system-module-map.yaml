capability_matrix:
  code_analysis:
    capabilities:
    - static_analysis
    - architecture_analysis
    - performance_analysis
    description: 程式碼分析能力
    providers:
    - mcp-servers/code-analyzer.js
    - automation-architect/core/analysis/
  cognitive_processing:
    capabilities:
    - perception
    - reasoning
    - execution
    - proof
    description: 認知處理能力
    providers:
    - core/unified_integration/cognitive_processor.py
    - runtime/mind_matrix/
  configuration_management:
    capabilities:
    - config_validation
    - drift_detection
    - optimization_recommendations
    description: 配置管理能力
    providers:
    - core/unified_integration/configuration_manager.py
    - core/unified_integration/configuration_optimizer.py
  deployment_automation:
    capabilities:
    - kubernetes_deployment
    - ci_cd_pipelines
    - monitoring_setup
    description: 部署自動化能力
    providers:
    - k8s/
    - .github/workflows/
  security_compliance:
    capabilities:
    - attestation
    - vulnerability_detection
    - safety_checks
    description: 安全合規能力
    providers:
    - core/slsa_provenance/
    - core/safety_mechanisms/
    - mcp-servers/security-scanner.js
  service_discovery:
    capabilities:
    - discovery
    - health_monitoring
    - dependency_resolution
    description: 服務發現能力
    providers:
    - core/unified_integration/service_registry.py
  work_configuration:
    capabilities:
    - module_mapping_integration
    - strategy_policy_management
    - cross_reference_validation
    - capability_registry_alignment
    - work_configuration_lifecycle
    description: 工作配置能力 - 統一工作流程與策略整合
    providers:
    - core/unified_integration/work_configuration_manager.py
  workflow_orchestration:
    capabilities:
    - workflow_management
    - task_scheduling
    - intent_understanding
    description: 工作流編排能力
    providers:
    - core/unified_integration/system_orchestrator.py
    - intelligent-automation/
cross_references:
  configuration_hierarchy:
  - config/system-manifest.yaml
  - config/system-module-map.yaml
  - config/environment.yaml
  - config/dependencies.yaml
  mind_matrix_dependencies:
  - config/topology-mind-matrix.yaml
  - config/ai-constitution.yaml
  - config/agents/team/virtual-experts.yaml
  - config/safety-mechanisms.yaml
  - core/unified_integration/
  service_registry_integrations:
  - core/contract_service/contracts-L1/
  - mcp-servers/
  - core/slsa_provenance/
  - core/execution_engine/
  - core/monitoring_system/
description: SynergyMesh 系統模組映射 - 統一目錄結構
directory_categories:
  automation:
    description: 自動化系統
    modules:
      automation_architect:
        description: 自動化架構師
        path: automation/architect/
        provides:
        - ArchitectureAnalysis
        - RepairEngine
      autonomous_system:
        description: 自主系統
        language_scope:
          naming_reference: docs/architecture/naming-conventions.md
          note: C++ for real-time control (ROS 2), Python for high-level orchestration
          primary: C++
          scope_limitation: C++ is ONLY permitted in automation/autonomous/ and core/native_adapters/
          secondary: Python
        path: automation/autonomous/
        provides:
        - APIGovernance
        - ArchitectureStability
      intelligent_automation:
        description: 智能自動化
        path: automation/intelligent/
        provides:
        - TaskOrchestration
        - IntentUnderstanding
      intelligent_hyperautomation:
        description: 智能超自動化
        path: automation/hyperautomation/
        provides:
        - HyperautomationPolicies
        - UAVGovernance
  configuration:
    base_path: config/
    description: 配置管理
    modules:
      dependencies:
        description: 依賴配置
        file: dependencies.yaml
      environment:
        description: 環境配置
        file: environment.yaml
      module_map:
        description: 模組映射
        file: system-module-map.yaml
      system_manifest:
        description: 系統宣告清單
        file: system-manifest.yaml
  core_platform:
    base_path: core/
    description: 核心平台服務與模組
    modules:
      ai_constitution:
        description: AI 治理憲章
        path: core/ai_constitution/
        provides:
        - GovernancePolicies
        - EthicalGuidelines
      ai_decision_engine:
        description: AI 決策引擎
        path: core/ai_decision_engine.py
        provides:
        - DecisionMaking
        - PolicyEnforcement
      auto_bug_detector:
        description: 自動缺陷偵測
        path: core/auto_bug_detector.py
        provides:
        - BugDetection
        - QualityAssurance
      auto_governance_hub:
        description: 自動治理中心
        path: core/auto_governance_hub.py
        provides:
        - GovernanceOrchestration
        - PolicyManagement
      autonomous_trust_engine:
        description: 自主信任引擎
        path: core/autonomous_trust_engine.py
        provides:
        - TrustManagement
        - GovernanceValidation
      ci_error_handler:
        description: CI 錯誤處理器
        path: core/ci_error_handler/
        provides:
        - ErrorDetection
        - AutoRemediation
      cloud_agent_delegation:
        description: 雲代理委派
        path: core/cloud_agent_delegation/
        provides:
        - AgentDelegation
        - CloudIntegration
      context_understanding_engine:
        description: 上下文理解引擎
        path: core/context_understanding_engine.py
        provides:
        - ContextAnalysis
        - SemanticUnderstanding
      contracts_l1:
        description: L1 合約管理服務
        path: core/contract_service/contracts-L1/
        provides:
        - ContractManagement
        - ProvenanceAttestation
      execution_architecture:
        description: 完整執行架構
        path: core/execution_architecture/
        provides:
        - FullExecutionPipeline
      execution_engine:
        description: 執行引擎
        path: core/execution_engine/
        provides:
        - ActionExecution
        - Rollback
      hallucination_detector:
        description: 幻覺偵測器
        path: core/hallucination_detector.py
        provides:
        - HallucinationDetection
        - OutputValidation
      hlp_executor_core:
        deployment:
          kubernetes: infrastructure/kubernetes/deployments/hlp-executor-core.yaml
          rbac: infrastructure/kubernetes/rbac/hlp-executor-rbac.yaml
          registry: governance/24-registry/plugins/hlp-executor-core.yaml
        description: Hard Logic Plugin Executor - Async DAG 編排引擎
        endpoints:
          grpc: 50051
          http: 8080
          metrics: 9090
        optional:
        - quantum-scheduler
        path: core/hlp_executor/
        plugin_id: hlp-executor-core
        provides:
        - DAGOrchestration
        - StateMachineManagement
        - PartialRollback
        - RetryPolicies
        requires:
        - kubernetes-api
        - trust-bundle
        status: infrastructure-ready
        version: 0.1.0
      mcp_servers_enhanced:
        description: 增強型 MCP 伺服器
        path: core/mcp_servers_enhanced/
        provides:
        - MCPProtocol
        - ServerCapabilities
      monitoring_system:
        description: 監控系統
        path: core/monitoring_system/
        provides:
        - MetricsCollection
        - AlertManagement
      safety_mechanisms:
        description: 安全機制
        path: core/safety_mechanisms/
        provides:
        - SafetyChecks
        - RiskMitigation
      slsa_provenance:
        description: SLSA 溯源認證
        path: core/slsa_provenance/
        provides:
        - Attestation
        - SignatureVerification
      tech_stack:
        description: 技術棧定義
        path: core/tech_stack/
        provides:
        - StackConfiguration
        - ToolIntegration
      training_system:
        description: 訓練系統
        path: core/training_system/
        provides:
        - KnowledgeTraining
        - SkillDevelopment
      unified_integration:
        components:
        - file: unified_controller.py
          id: unified_controller
          provides:
          - SystemBootstrap
          - PhaseCoordination
        - file: integration_hub.py
          id: integration_hub
          provides:
          - MessageRouting
          - EventPubSub
        - file: system_orchestrator.py
          id: system_orchestrator
          provides:
          - WorkflowManagement
          - TaskScheduling
        - file: configuration_manager.py
          id: configuration_manager
          provides:
          - ConfigManagement
          - SecretManagement
        - file: service_registry.py
          id: service_registry
          provides:
          - ServiceDiscovery
          - HealthMonitoring
          - DependencyResolution
        - file: cognitive_processor.py
          id: cognitive_processor
          provides:
          - Perception
          - Reasoning
          - Execution
          - Proof
        - file: configuration_optimizer.py
          id: configuration_optimizer
          provides:
          - ConfigValidation
          - DriftDetection
          - Recommendations
        - file: work_configuration_manager.py
          id: work_configuration_manager
          provides:
          - ModuleMappingIntegration
          - StrategyPolicyManagement
          - CrossReferenceValidation
          - CapabilityRegistryAlignment
        description: 統一系統整合層
        path: core/unified_integration/
      virtual_experts:
        description: 虛擬專家系統
        path: core/virtual_experts/
        provides:
        - ExpertKnowledge
        - DomainAnalysis
      yaml_module_system:
        description: YAML 模組系統
        path: core/yaml_module_system/
        provides:
        - YAMLValidation
        - SchemaEnforcement
  documentation:
    description: 文件資料
    modules:
      docs:
        description: 主要文件目錄
        path: docs/
      root_docs:
        description: 根目錄文件
        files:
        - README.md
        - README.en.md
        - CONTRIBUTING.md
        - SECURITY.md
        - CHANGELOG.md
        - CODE_OF_CONDUCT.md
  external:
    description: 外部依賴與整合
    modules:
      attest_build_provenance:
        description: 建置認證主程式
        path: attest-build-provenance-main/
        type: external_dependency
      bridges:
        description: 系統橋接
        path: bridges/
  frontend:
    description: 前端應用 (已整合)
    modules:
      dist:
        description: 進階系統編譯產出
        path: frontend/dist/
        type: build_output
      ui:
        description: 統一前端UI套件 - 架構視覺化與系統UI
        note: Consolidated from frontend/architecture and frontend/system-ui
        path: frontend/ui/
        provides:
        - ArchitectureVisualization
        - SystemUI
        - CodeAnalyzerAPI
  governance:
    description: 治理與政策
    modules:
      governance:
        description: 治理規則
        path: governance/rules/
      policy:
        description: 政策定義
        path: governance/policies/
      schemas:
        description: 資料結構定義
        path: governance/schemas/
  infrastructure:
    description: 基礎設施配置
    modules:
      ci_cd:
        description: CI/CD 工作流程
        path: .github/workflows/
      docker:
        description: Docker 容器配置
        root_files:
        - Dockerfile
        - docker-compose.yml
        - docker-compose.dev.yml
      kubernetes:
        description: Kubernetes 部署配置
        path: k8s/
        provides:
        - Deployment
        - Services
        - Monitoring
  runtime:
    base_path: runtime/
    description: 運行時模組
    modules:
      mind_matrix:
        description: 心智矩陣核心
        entrypoint: main.py
        path: runtime/mind_matrix/
        provides:
        - CognitiveStack
        - ExecutiveSystem
        - MultiAgentHypergraph
  services:
    description: 微服務
    modules:
      agent:
        description: 代理程式
        path: agent/
        provides:
        - RunbookExecutor
        - AutoRepair
        - VulnerabilityDetector
      mcp_servers:
        description: MCP 伺服器實作
        path: mcp-servers/
        provides:
        - CodeAnalyzer
        - SecurityScanner
        - TestGenerator
  testing:
    description: 測試相關
    modules:
      performance_tests:
        description: 性能測試
        path: tests/performance/
      test_vectors:
        description: 測試向量
        path: tests/vectors/
      tests:
        description: 測試套件
        path: tests/unit/
  tools:
    description: 工具與腳本
    modules:
      ci:
        description: CI 輔助工具
        path: tools/ci/
      scripts:
        description: 自動化腳本
        path: tools/scripts/
      tools:
        description: 工具程式
        path: tools/utilities/
id: machinenativeops.module-map
language_governance:
  cpp_scope_limitation:
    allowed_paths:
    - automation/autonomous/
    - core/native_adapters/
    description: C++ 為 autonomous / native 子專案專用語言，不作為全域命名規範來源
    forbidden_elsewhere: true
    note: C++ is ONLY permitted in autonomous and native adapter subsystems
  naming_conventions: docs/architecture/naming-conventions.md
  naming_rules: governance/language-naming-rules.yaml
  reference: docs/architecture/language-stack.md
phase2_consolidation:
  description: 詳細目錄合併計畫請參閱統一配置索引
  reference: config/unified-config-index.yaml
root_directory_guidelines:
  config_to_consolidate:
    current_files:
    - auto-fix-bot.yml
    - auto-fix-bot.prompt.yml
    - cloud-agent-delegation.yml
    - drone-config.yml
    - island-control.yml
    - machinenativeops.config.yaml
    description: 應移至 config/ 的配置
    target: config/
  documentation_to_consolidate:
    current_files:
    - ADVANCED_SYSTEM_INTEGRATION.md
    - AUTO_FIX_BOT.md
    - AUTO_FIX_BOT_GUIDE.md
    - COMPREHENSIVE_IMPLEMENTATION_REPORT.md
    - DELEGATION_WORKFLOW.md
    - GHAS_IMPLEMENTATION_SUMMARY.md
    - MONITORING_GUIDE.md
    - PHASE1_IMPLEMENTATION_SUMMARY.md
    - PHASE1_VALIDATION_REPORT.md
    - PRODUCTION_READINESS.md
    - REPOSITORY_INTEGRATION_ASSESSMENT.md
    - ROOT_README.md
    - SECURITY_SUMMARY.md
    description: 應移至 docs/ 的文件
    target: docs/
  essential_root_files:
    description: 必須保留在根目錄的檔案
    files:
    - README.md
    - README.en.md
    - package.json
    - package-lock.json
    - tsconfig.json
    - pyproject.toml
    - Dockerfile
    - docker-compose.yml
    - .gitignore
    - .eslintrc.yaml
    - .prettierrc
    - jest.config.js
  hidden_directories:
    description: 隱藏目錄（應保留）
    directories:
    - config/autofix
    - .ci
    - .config
    - config/dev
    - .docker-templates
    - .github
    - .github-private
    - .governance
    - governance/registry
    - .vscode
root_directory_restructuring:
  documentation_reference: docs/architecture/ROOT_DIRECTORY_RESTRUCTURING.md
  hidden_directories_policy:
    description: 隱藏目錄（.前綴）代表技術/工具配置
    directories:
    - path: config/
      purpose: Configuration test files (conftest)
      status: keep
    - path: config/dev/
      purpose: VS Code Dev Container configuration
      status: keep
    - path: .github/
      purpose: GitHub Actions workflows and configs
      status: keep
    - path: .github-private/
      purpose: Private GitHub configurations
      status: keep
    - path: .vscode/
      purpose: VS Code workspace settings
      status: keep
    - path: .refactor-backups/
      purpose: Refactoring backup files
      status: keep
  naming_conflict_resolution:
  - conflict: config/ vs config/
    rationale: Distinguish application configs from tool/test configs
    recommendation: Rename config/ to app-configs/ for clarity
  - conflict: src/autonomous/infrastructure/ vs infrastructure/
    rationale: Avoid functional overlap
    recommendation: Consolidate to infrastructure/
  status: planning
standardized_subdirectory_framework:
  documentation_reference: docs/architecture/ROOT_DIRECTORY_RESTRUCTURING.md
  module_skeleton_template: "{module_name}/\n├── README.md                 # Module\
    \ entry documentation\n├── src/                      # \U0001F4DD Source Code\
    \ [HIGH]\n│   ├── index.ts              # Entry point\n│   ├── types.ts      \
    \        # Type definitions\n│   ├── services/             # Service layer\n│\
    \   └── utils/                # Utility functions\n├── tests/                \
    \    # \U0001F9EA Tests [HIGH]\n│   ├── unit/                 # Unit tests\n│\
    \   ├── integration/          # Integration tests\n│   ├── e2e/              \
    \    # End-to-end tests\n│   └── fixtures/             # Test fixtures\n├── docs/\
    \                     # \U0001F4DA Documentation [HIGH]\n│   ├── README.md   \
    \          # Module overview\n│   ├── API.md                # API reference\n\
    │   └── DESIGN.md             # Design decisions\n└── config/                \
    \   # ⚙️ Configuration [MEDIUM-HIGH]\n    ├── defaults.yaml         # Default\
    \ settings\n    └── schemas/              # Config schemas\n"
  standard_skeleton:
    description: 標準模組骨架 - 所有主要功能模組應遵循此結構
    recommended_directories:
    - description: Module configuration (模組配置)
      distinction: Different from root app-configs/ (global configs)
      mandatory_level: MEDIUM-HIGH
      name: config/
      purpose: Module-specific configurations
    required_directories:
    - description: Source code (核心源代碼)
      mandatory_level: HIGH
      name: src/
      purpose: Store core application source code
      rule: No source code should reside directly in module root
    - description: Test suite (測試套件)
      mandatory_level: HIGH
      name: tests/
      purpose: Unit tests, integration tests, E2E tests
      structure:
      - unit/
      - integration/
      - e2e/
      - fixtures/
      - mocks/
    - contents:
      - README.md
      - API.md
      - DESIGN.md
      description: Documentation (文檔)
      mandatory_level: HIGH
      name: docs/
      purpose: Module-specific documentation
  target_modules:
    priority_1:
    - current_structure: Mixed Python modules
      module: core/
      reason: Central platform, highest impact
    - current_structure: Agent subdirectories without standard skeleton
      module: agent/
      reason: Active development, clear boundaries
    priority_2:
    - module: automation/
      reason: Multiple submodules need structure
    - module: services/
      reason: Service implementations need standard
    priority_3:
    - module: mcp-servers/
      reason: Tool endpoints need consistency
    - module: frontend/
      reason: UI components need structure
validation_rules:
  all_capabilities_covered:
    description: 確保所有必要能力都有提供者
    severity: error
  consistent_naming:
    description: 確保命名一致性
    severity: warning
  documentation_exists:
    description: 確保每個模組都有文件
    severity: warning
  no_duplicate_providers:
    description: 確保同一能力只有一個主要提供者
    severity: error
version: 1.2.0
