description: Unified configuration for project synchronization and refactoring systems
features:
  ai_powered_suggestions: false
  auto_sync_enabled: true
  cache_enabled: true
  cross_workflow_triggers: true
  incremental_generation: true
  post_commit_hook_enabled: false
  unified_validation: true
  watch_script_enabled: true
integration:
  notifications:
    channels:
    - enabled: true
      type: github_step_summary
    - enabled: true
      type: commit_message
    - enabled: false
      type: slack
      webhook_url: ${SLACK_WEBHOOK_URL}
    enabled: true
  sync_triggers_refactor: true
  workflows:
    refactor_playbooks:
      trigger_on_paths:
      - governance/**
      - apps/web/public/data/**
      - tools/generate-refactor-playbook.py
      workflow_file: .github/workflows/update-refactor-playbooks.yml
monitoring:
  alerts:
    conditions:
    - threshold: 3
      type: sync_failure
      window_minutes: 60
    - threshold: 2
      type: refactor_failure
      window_minutes: 120
    - threshold: 10
      type: validation_errors
      window_minutes: 30
    enabled: true
  health_checks:
    refactor_workflow:
      alert_on_failure: true
      max_duration_minutes: 15
    sync_workflow:
      alert_on_failure: true
      max_duration_minutes: 10
  metrics:
    collect:
    - sync_duration
    - sync_file_count
    - sync_directory_count
    - playbook_generation_duration
    - playbook_count
    - validation_errors
    - cache_hit_rate
    enabled: true
name: sync-refactor-config
refactor:
  cache:
    directory: .cache/refactor
    enabled: true
    invalidate_on:
    - governance/language-governance-report.md
    - governance/semgrep-report.json
    - apps/web/public/data/*.json
    ttl_hours: 24
  data_sources:
    ai_suggestions: governance/ai-refactor-suggestions.md
    cluster_heatmap: apps/web/public/data/cluster-heatmap.json
    governance_report: governance/language-governance-report.md
    hotspot_data: apps/web/public/data/hotspot.json
    migration_flow: apps/web/public/data/migration-flow.json
    semgrep_report: governance/semgrep-report.json
  playbooks:
    clusters:
    - description: æ ¸å¿ƒå¹³å°æ¨¡çµ„
      id: core
      path: core/
      priority: P0
    - description: çµ±ä¸€æœå‹™å…¥å£
      id: services
      path: services/
      priority: P1
    - description: è‡ªå‹•åŒ–æ¨¡çµ„
      id: automation
      path: automation/
      priority: P1
    - description: è‡ªä¸»ç³»çµ±
      id: autonomous
      path: autonomous/
      priority: P1
    - description: æ²»ç†èˆ‡æ”¿ç­–
      id: governance
      path: governance/
      priority: P0
    - description: æ‡‰ç”¨ç¨‹å¼
      id: apps
      path: apps/
      priority: P2
    - description: åŸºç¤è¨­æ–½
      id: infrastructure
      path: infrastructure/
      priority: P1
    - description: å·¥å…·èˆ‡è…³æœ¬
      id: tools
      path: tools/
      priority: P2
    output_directory: docs/refactor_playbooks
    phases:
    - 01_deconstruction
    - 02_integration
    - 03_refactor
  triggers:
    auto_generate_on_sync: true
    governance_file_patterns:
    - governance/language-governance-report.md
    - governance/semgrep-report.json
    - governance/ai-refactor-suggestions.md
    - apps/web/public/data/hotspot.json
    - apps/web/public/data/cluster-heatmap.json
    - apps/web/public/data/migration-flow.json
references:
  documentation:
  - docs/refactor_playbooks/README.md
  - DOCUMENTATION_INDEX.md
  scripts:
  - scripts/sync/watch-and-sync.sh
  - tools/generate-refactor-playbook.py
  - tools/validate-refactor-index.py
  workflows:
  - .github/workflows/08-sync-subdirs.yml
  - .github/workflows/update-refactor-playbooks.yml
sync:
  debounce:
    enabled: true
    max_wait_seconds: 30
    time_seconds: 5
  exclude_patterns:
  - .git
  - node_modules
  - __pycache__
  - .venv
  - venv
  - dist
  - build
  - .next
  - coverage
  - target
  - '*.pyc'
  - '*.log'
  - .DS_Store
  git:
    auto_commit: true
    auto_push: true
    commit_message_template: 'ğŸ”„ è‡ªå‹•åŒæ­¥: {timestamp}


      è®Šæ›´ç›®éŒ„:

      {directories}


      è®Šæ›´æ–‡ä»¶:

      {files}'
    max_retries: 3
    pull_before_push: true
    rebase: true
  monitored_directories:
  - core/
  - services/
  - automation/
  - autonomous/
  - governance/
  - apps/
  - tools/
  - infrastructure/
  - docs/
  - scripts/
  - tests/
  - config/
  - mcp-servers/
  trigger_files:
  - templates/**
  - island.bootstrap.stage0.yaml
  - machinenativeops.yaml
  - machinenativeops.yaml
  - config/system-manifest.yaml
  - config/unified-config-index.yaml
  validation:
    checks:
    - command: python -c 'import yaml; yaml.safe_load(open("{file}"))'
      description: Validate YAML syntax
      file_patterns:
      - '*.yaml'
      - '*.yml'
      type: yaml
    - command: python -c 'import json; json.load(open("{file}"))'
      description: Validate JSON syntax
      file_patterns:
      - '*.json'
      type: json
    - command: npm run docs:lint -- {file}
      description: Check markdown links
      file_patterns:
      - '*.md'
      optional: true
      type: markdown
    enabled: true
troubleshooting:
  debug_mode: false
  log_directory: .git/logs
  log_level: info
  preserve_temp_files: false
version: 1.0.0
