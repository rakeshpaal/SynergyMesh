defaults:
  language_policy:
    forbidden_languages:
    - PHP
    - Perl
    high_level_languages:
    - TypeScript
    - Python
    infra_languages:
    - YAML
    - HCL
    low_level_languages:
    - Go
    - C++
    - Rust
  phase_defaults:
    enabled_phases:
    - 0
    - 1
    - 2
    - 3
    - 4
    - 5
    phase0:
      description: æƒæç¾æœ‰èªè¨€/æª”æ¡ˆ/ä¾è³´ï¼Œç”¢ç”Ÿæ¸…å†Šã€‚
      name: Inventory & Discovery
    phase1:
      description: å»ºç«‹èªè¨€èˆ‡ä¾è³´æ²»ç†åŸºæº–ç·šï¼ˆé•è¦/ç†±é»/flowï¼‰ã€‚
      name: Governance Baseline
    phase2:
      description: ç‚ºå„ cluster ç”¢ç”Ÿé‡æ§‹åŠ‡æœ¬èˆ‡ P0/P1/P2 è¨ˆç•«ã€‚
      name: Refactor Planning
    phase3:
      description: åœ¨åˆ†æ”¯ä¸­åŸ·è¡Œ Auto-Fix + äººå·¥å¯©æŸ¥ã€‚
      name: Safe Execution
    phase4:
      description: åˆä½µè‡³ä¸»ç·šã€ç©©å®š CI/CDã€æ›´æ–°çŸ¥è­˜åº«ã€‚
      name: Consolidation
    phase5:
      description: æŒçºŒç›£æ§èªè¨€å¥åº·èˆ‡æ¶æ§‹æ¼‚ç§»ã€‚
      name: Continuous Governance
  quality_thresholds:
    complexity_trend: non_increasing
    coverage_delta_min: 0.0
    language_violations_max: 0
    semgrep_high_max: 0
description: 'Example system module map for ğŸï¸ Unmanned Island System. This file is
  a TEMPLATE for language governance, Phase 0â€“5, and 03_refactor playbooks. It should
  NOT override the real config/system-module-map.yaml without review.

  '
modules:
  apps-web:
    architecture_constraints:
      allowed_dependencies:
      - services/*
      - apps/*
      banned_dependencies:
      - core/unified_integration/**
      - automation/**
      layering_rules:
      - Apps layer is the top layer
      - Can call services but not core directly
      - Should consume APIs, not internal modules
      notes: 'Apps å±¤æ˜¯æœ€ä¸Šå±¤ï¼Œæ‡‰é€é services API å­˜å–è³‡æºï¼Œä¸å¯ç›´æ¥å‘¼å« coreã€‚

        Apps layer is the top layer, should access resources via services API, not
        core directly.

        '
      skeleton_rules:
      - frontend-consistency
      - security-observability
    description: 'Web applications layer - React frontend, code analysis UI, language
      governance dashboard. Web æ‡‰ç”¨å±¤ - React å‰ç«¯ã€ä»£ç¢¼åˆ†æ UIã€èªè¨€æ²»ç†å„€è¡¨æ¿ã€‚

      '
    domain: apps
    id: apps-web
    quality_thresholds:
      complexity_trend: non_increasing
      coverage_delta_min: 0.0
      language_violations_max: 0
      semgrep_high_max: 0
    refactor:
      allow_new_subdirs: true
      allowed_new_paths:
      - apps/web/src/components/*
      - apps/web/src/pages/*
      - apps/web/src/features/*
      cluster_id: apps/web
      exclude_globs:
      - '**/node_modules/**'
      - '**/dist/**'
      - '**/build/**'
      - apps/web/public/data/**
      include_globs:
      - apps/web/src/**/*.ts
      - apps/web/src/**/*.tsx
      - apps/web/src/**/*.jsx
      owners:
      - '@frontend-team'
      - '@web-team'
      phase_defaults:
        current_phase: Phase-2-Planning
        priority: 2
        status: active
      playbook_path: docs/refactor_playbooks/03_refactor/apps/apps__web_refactor.md
      preferred_languages:
      - TypeScript
      target_roots:
      - apps/web/src
      - apps/web/public
    roots:
    - apps/web
    - apps/web/src
    - apps/web/public
  automation-autonomous:
    architecture_constraints:
      allowed_dependencies:
      - core/safety_mechanisms
      - core/slsa_provenance
      - automation/*
      banned_dependencies:
      - apps/**
      - services/**
      layering_rules:
      - Autonomous systems are independent
      - Can depend on core safety mechanisms
      - Should not depend on services or apps
      notes: 'è‡ªä¸»ç³»çµ±ç¨ç«‹é‹ä½œï¼Œåƒ…ä¾è³´ core å®‰å…¨æ©Ÿåˆ¶ï¼Œä¸ä¾è³´ services æˆ– appsã€‚

        Autonomous systems operate independently, only depend on core safety, not
        services or apps.

        '
      skeleton_rules:
      - architecture-stability
      - api-governance
      - security-observability
    description: 'Autonomous systems - five-skeleton architecture, drone control,
      ROS2 integration. è‡ªä¸»ç³»çµ± - äº”éª¨æ¶æ¶æ§‹ã€ç„¡äººæ©Ÿæ§åˆ¶ã€ROS2 æ•´åˆã€‚

      '
    domain: automation
    id: automation-autonomous
    quality_thresholds:
      complexity_trend: non_increasing
      coverage_delta_min: 0.0
      language_violations_max: 0
      semgrep_high_max: 0
    refactor:
      allow_new_subdirs: true
      allowed_new_paths:
      - automation/autonomous/architecture-stability/skeletons/*
      - automation/autonomous/api-governance/agents/*
      cluster_id: automation/autonomous
      exclude_globs:
      - '**/tests/**'
      - '**/build/**'
      - '**/__pycache__/**'
      include_globs:
      - automation/autonomous/**/*.cpp
      - automation/autonomous/**/*.py
      - automation/autonomous/**/*.go
      owners:
      - '@robotics-team'
      - '@autonomous-systems-team'
      phase_defaults:
        current_phase: Phase-3-Execution
        priority: 0
        status: active
      playbook_path: docs/refactor_playbooks/03_refactor/automation/automation__autonomous_refactor.md
      preferred_languages:
      - C++
      - Python
      - Go
      target_roots:
      - automation/autonomous
    roots:
    - automation/autonomous
    - automation/autonomous/architecture-stability
    - automation/autonomous/api-governance
  core-architecture:
    architecture_constraints:
      allowed_dependencies:
      - core/*
      - runtime/*
      - infrastructure/*
      banned_dependencies:
      - apps/**
      - services/**
      - automation/**
      layering_rules:
      - Core layer is the foundation
      - Cannot depend on upper layers (apps/services)
      - Can be consumed by all layers
      notes: 'Core å±¤æ˜¯ç³»çµ±åŸºç¤ï¼Œä¸å¯ä¾è³´ä¸Šå±¤ï¼ˆapps/servicesï¼‰ã€‚

        Core layer is the foundation, cannot depend on upper layers.

        '
      skeleton_rules:
      - architecture-stability
      - api-governance
    description: 'Core platform architecture & stability for Unmanned Island: unified
      integration layer, mind matrix, lifecycle systems. æ ¸å¿ƒå¹³å°æ¶æ§‹èˆ‡ç©©å®šæ€§ï¼šçµ±ä¸€æ•´åˆå±¤ã€å¿ƒæ™ºçŸ©é™£ã€ç”Ÿå‘½é€±æœŸç³»çµ±ã€‚

      '
    domain: core
    id: core-architecture
    quality_thresholds:
      complexity_trend: non_increasing
      coverage_delta_min: 0.0
      language_violations_max: 0
      semgrep_high_max: 0
    refactor:
      allow_new_subdirs: false
      allowed_new_paths:
      - core/unified_integration/plugins/*
      - core/mind_matrix/agents/*
      cluster_id: core/architecture-stability
      exclude_globs:
      - '**/tests/**'
      - '**/node_modules/**'
      - '**/__pycache__/**'
      - '**/dist/**'
      include_globs:
      - core/unified_integration/**/*.ts
      - core/unified_integration/**/*.py
      - core/mind_matrix/**/*.py
      - core/safety_mechanisms/**/*.ts
      owners:
      - '@core-team'
      - '@architecture-reviewers'
      phase_defaults:
        current_phase: Phase-3-Execution
        priority: 1
        status: active
      playbook_path: docs/refactor_playbooks/03_refactor/core/core__architecture_refactor.md
      preferred_languages:
      - TypeScript
      - Python
      target_roots:
      - core/unified_integration
      - core/mind_matrix
      - core/safety_mechanisms
    roots:
    - core/unified_integration
    - core/mind_matrix
    - core/safety_mechanisms
    - core/slsa_provenance
  governance-schemas-policies:
    architecture_constraints:
      allowed_dependencies:
      - governance/*
      banned_dependencies:
      - core/**
      - services/**
      - apps/**
      - automation/**
      layering_rules:
      - Governance is cross-cutting
      - Provides validation to all layers
      - Should not depend on implementation layers
      notes: 'æ²»ç†ç³»çµ±æ˜¯è·¨å±¤çš„ï¼Œæä¾›é©—è­‰çµ¦æ‰€æœ‰å±¤ç´šï¼Œä¸æ‡‰ä¾è³´å¯¦ä½œå±¤ã€‚

        Governance is cross-cutting, provides validation to all layers, should not
        depend on implementation.

        '
      skeleton_rules:
      - configuration-governance
      - schema-validation
    description: 'Governance system - schema namespaces, policy definitions, compliance
      validation. æ²»ç†ç³»çµ± - Schema å‘½åç©ºé–“ã€ç­–ç•¥å®šç¾©ã€åˆè¦é©—è­‰ã€‚

      '
    domain: governance
    id: governance-schemas-policies
    quality_thresholds:
      complexity_trend: non_increasing
      coverage_delta_min: 0.0
      language_violations_max: 0
      semgrep_high_max: 0
    refactor:
      allow_new_subdirs: true
      allowed_new_paths:
      - governance/schemas/mndoc/*
      - governance/policies/opa/*
      - governance/rules/custom/*
      cluster_id: governance/schemas-policies
      exclude_globs:
      - '**/tests/**'
      - governance/registry/**
      include_globs:
      - governance/**/*.json
      - governance/**/*.yaml
      - governance/**/*.rego
      - governance/**/*.py
      owners:
      - '@governance-team'
      - '@compliance-team'
      - '@architecture-reviewers'
      phase_defaults:
        current_phase: Phase-4-Validation
        priority: 1
        status: active
      playbook_path: docs/refactor_playbooks/03_refactor/governance/governance__schemas_policies_refactor.md
      preferred_languages:
      - YAML
      - Rego
      - Python
      target_roots:
      - governance/schemas
      - governance/policies
      - governance/rules
    roots:
    - governance/schemas
    - governance/policies
    - governance/rules
  services-gateway:
    architecture_constraints:
      allowed_dependencies:
      - core/*
      - services/*
      - infrastructure/*
      banned_dependencies:
      - apps/**
      layering_rules:
      - Services layer provides APIs to apps
      - Can depend on core but not apps
      - Should use dependency injection
      notes: 'Services å±¤æä¾› API çµ¦ appsï¼Œå¯ä¾è³´ core ä½†ä¸å¯ä¾è³´ appsã€‚

        Services layer provides APIs to apps, can depend on core but not apps.

        '
      skeleton_rules:
      - api-governance
      - security-observability
    description: 'Services gateway layer - MCP servers, API gateway, service mesh.
      æœå‹™é–˜é“å±¤ - MCP ä¼ºæœå™¨ã€API é–˜é“ã€æœå‹™ç¶²æ ¼ã€‚

      '
    domain: services
    id: services-gateway
    quality_thresholds:
      complexity_trend: non_increasing
      coverage_delta_min: 0.0
      language_violations_max: 0
      semgrep_high_max: 0
    refactor:
      allow_new_subdirs: true
      allowed_new_paths:
      - services/mcp/servers/*
      - services/gateway/middlewares/*
      cluster_id: services/gateway
      exclude_globs:
      - '**/node_modules/**'
      - '**/dist/**'
      - '**/tests/**'
      include_globs:
      - services/**/*.ts
      - services/**/*.js
      - mcp-servers/**/*.ts
      owners:
      - '@services-team'
      - '@integration-team'
      phase_defaults:
        current_phase: Phase-3-Execution
        priority: 1
        status: active
      playbook_path: docs/refactor_playbooks/03_refactor/services/services__gateway_refactor.md
      preferred_languages:
      - TypeScript
      target_roots:
      - services/mcp
      - services/gateway
      - mcp-servers
    roots:
    - services/mcp
    - services/gateway
    - mcp-servers
validation:
  check_circular_dependencies: true
  check_playbook_paths: true
  validate_architecture_constraints: true
  validate_owners: true
  validate_quality_thresholds: true
version: 1.0.0
