# Configuration for Kustomize label transformations
# Ensures labels are applied consistently across resources

nameReference:
- kind: ConfigMap
  version: v1
  fieldSpecs:
  - path: spec/volumes/configMap/name
    kind: Pod
  - path: spec/containers/env/valueFrom/configMapKeyRef/name
    kind: Pod

- kind: Secret
  version: v1
  fieldSpecs:
  - path: spec/volumes/secret/secretName
    kind: Pod
  - path: spec/containers/env/valueFrom/secretKeyRef/name
    kind: Pod

- kind: Service
  version: v1
  fieldSpecs:
  - path: spec/serviceName
    kind: StatefulSet

# Common labels configuration
commonLabels:
- path: metadata/labels
  create: true

- path: spec/selector
  create: true
  kind: Service

- path: spec/selector/matchLabels
  create: true
  kind: Deployment

- path: spec/selector/matchLabels
  create: true
  kind: StatefulSet

- path: spec/selector/matchLabels
  create: true
  kind: DaemonSet

- path: spec/selector/matchLabels
  create: true
  kind: ReplicaSet

- path: spec/template/metadata/labels
  create: true
  kind: Deployment

- path: spec/template/metadata/labels
  create: true
  kind: StatefulSet

- path: spec/template/metadata/labels
  create: true
  kind: DaemonSet

- path: spec/template/metadata/labels
  create: true
  kind: Job

- path: spec/template/metadata/labels
  create: true
  kind: CronJob

# Common annotations configuration
commonAnnotations:
- path: metadata/annotations
  create: true

# Namespace configuration
namespace:
- path: metadata/namespace
  create: true
  kind: Service
- path: metadata/namespace
  create: true
  kind: Deployment
- path: metadata/namespace
  create: true
  kind: StatefulSet
- path: metadata/namespace
  create: true
  kind: DaemonSet
- path: metadata/namespace
  create: true
  kind: ConfigMap
- path: metadata/namespace
  create: true
  kind: Secret
- path: metadata/namespace
  create: true
  kind: ServiceAccount
- path: metadata/namespace
  create: true
  kind: Role
- path: metadata/namespace
  create: true
  kind: RoleBinding

# Images configuration
images:
- path: spec/template/spec/containers/*/image
  kind: Deployment
- path: spec/template/spec/containers/*/image
  kind: StatefulSet
- path: spec/template/spec/containers/*/image
  kind: DaemonSet
- path: spec/template/spec/containers/*/image
  kind: Job
- path: spec/template/spec/containers/*/image
  kind: CronJob
