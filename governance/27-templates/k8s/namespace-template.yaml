# Parameterized namespace template for Helm/Kustomize
# Replace {{ .Values.* }} with your templating values
apiVersion: v1
kind: Namespace
metadata:
  name: {{ .Values.environment }}-{{ .Values.component }}-{{ .Values.suffix }}
  labels:
    environment: {{ .Values.environment }}
    tenant: {{ .Values.tenant | default "platform" }}
    app.kubernetes.io/name: {{ .Values.component }}
    app.kubernetes.io/managed-by: {{ .Values.managedBy | default "axiom-naming-controller" }}
    {{- range $key, $value := .Values.extraLabels }}
    {{ $key }}: {{ $value }}
    {{- end }}
  annotations:
    axiom.io/canonical-urn: "urn:axiom:{{ .Values.domain }}:{{ .Values.component }}:env:{{ .Values.environment }}:{{ .Values.version }}"
    axiom.io/governance-mode: {{ .Values.governanceMode | default "minimal" }}
    {{- range $key, $value := .Values.extraAnnotations }}
    {{ $key }}: {{ $value }}
    {{- end }}
