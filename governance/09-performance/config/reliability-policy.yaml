name: Reliability Governance Policy
description: Defines SLA/SLO targets, disaster recovery, and resilience requirements
version: "1.0"

enforcement: strict

rules:
  # SLO Targets
  slo_targets:
    service_availability: "99.95%"
    error_budget: "0.05%"
    mean_time_to_recovery: "15 minutes"
    mean_time_between_failures: "720 hours"

  # SLA Terms
  sla:
    tier1_availability: "99.99%"
    tier1_response_time: "1 hour"
    tier2_availability: "99.95%"
    tier2_response_time: "4 hours"
    tier3_availability: "99.9%"
    tier3_response_time: "24 hours"
    credit_structure: "linear"

  # Disaster Recovery
  disaster_recovery:
    rto_minutes: "1"  # Recovery Time Objective
    rpo_minutes: "5"  # Recovery Point Objective
    backup_frequency: "continuous"
    backup_locations: "3+ geographic regions"
    dr_testing: "quarterly"
    dr_documentation: required

  # Failover & Redundancy
  failover:
    active_active_deployment: required
    load_balancing: "multi_region"
    database_replication: required
    cache_replication: required
    connection_pooling: required
    circuit_breaker_pattern: required

  # Health Checks
  health_checks:
    liveness_probe: required
    readiness_probe: required
    startup_probe: required
    check_frequency: "10 seconds"
    check_timeout: "5 seconds"
    failure_threshold: 3

  # Resilience Patterns
  resilience:
    retry_strategy: required
    retry_backoff: "exponential"
    max_retries: 3
    timeout_enforcement: required
    bulkhead_pattern: required
    timeout_seconds: 30

  # Incident Management
  incident_management:
    incident_detection: "automated"
    incident_classification: required
    incident_notification: "immediate"
    incident_tracking: required
    post_mortem_analysis: required
    post_mortem_timeline: "within_48_hours"

  # Monitoring & Observability
  observability:
    structured_logging: required
    distributed_tracing: required
    metrics_collection: required
    metrics_retention_days: 365
    log_retention_days: 90
    alerting: required

dependencies:
  - "architecture-governance"
  - "security-governance"
  - "performance-governance"
  - "common"

compliance_metrics:
  - name: "SLA Compliance"
    threshold: 100
    frequency: "daily"

  - name: "SLO Achievement"
    threshold: 100
    frequency: "daily"

  - name: "MTTR (Mean Time To Recovery)"
    threshold: "< 15 minutes"
    frequency: "per_incident"

  - name: "MTBF (Mean Time Between Failures)"
    threshold: "> 720 hours"
    frequency: "monthly"

  - name: "DR Test Success Rate"
    threshold: 100
    frequency: "quarterly"

  - name: "Incident Detection Rate"
    threshold: 100
    frequency: "monthly"
