{
  "$schema": "../../../schemas/dimension-metadata.schema.json",
  "id": "81-auto-comment",
  "name": "自動評論治理",
  "name_en": "Auto Comment Governance",
  "version": "1.0.0",
  "description": "自動評論引擎、CI 失敗診斷、即時反饋與自動修復機制",
  "description_en": "Auto comment engine for CI failure diagnosis, real-time feedback, and auto-fix capabilities",
  "category": "feedback",
  "layer": "feedback",
  "priority": 2,
  "status": "active",
  "created_at": "2025-12-12T00:00:00Z",
  "updated_at": "2025-12-12T00:00:00Z",
  "owner": "governance-bot",
  "maintainers": [
    {
      "name": "governance-bot",
      "role": "owner"
    }
  ],
  "dependencies": {
    "required": ["39-automation", "71-feedback-loops"],
    "optional": ["40-self-healing", "50-monitoring"]
  },
  "frameworks": ["NIST-AI-RMF", "ISO-42001", "DevOps", "GitOps"],
  "tags": ["auto-comment", "ci-feedback", "automation", "governance-feedback", "self-healing"],
  "events": [
    "auto-comment.triggered",
    "auto-comment.generated",
    "auto-comment.posted",
    "auto-fix.triggered",
    "auto-fix.completed",
    "auto-fix.failed"
  ],
  "execution": "required",
  "qa_required": true,
  "tech_debt": false,
  "files": {
    "dimension": "./dimension.yaml",
    "policy": "./policy.rego",
    "metadata": "./metadata.json",
    "policies": "./policies.yaml",
    "templates": "./templates/",
    "scripts": "./scripts/",
    "tests": "./tests/"
  },
  "workflow_entry": ".github/workflows/governance-auto-comment.yml",
  "outputs": {
    "comment_file": "./output/comment.md",
    "event_registry": "governance/index/events/registry.json"
  },
  "error_classification": {
    "auto_fixable": [
      {
        "pattern": "eslint",
        "fix_command": "npx eslint --fix .",
        "description": "ESLint 格式錯誤"
      },
      {
        "pattern": "prettier",
        "fix_command": "npx prettier --write .",
        "description": "Prettier 格式錯誤"
      },
      {
        "pattern": "yamllint",
        "fix_command": "npx yamllint --fix .",
        "description": "YAML 格式錯誤"
      },
      {
        "pattern": "markdownlint",
        "fix_command": "npx markdownlint --fix .",
        "description": "Markdown 格式錯誤"
      }
    ],
    "manual_required": [
      {
        "pattern": "error TS\\d+",
        "description": "TypeScript 型別錯誤"
      },
      {
        "pattern": "FAILED.*test",
        "description": "測試失敗"
      },
      {
        "pattern": "security vulnerability",
        "description": "安全漏洞"
      }
    ]
  },
  "metrics": {
    "auto_comment_total": "Total auto-comments generated",
    "auto_fix_total": "Total auto-fix operations",
    "auto_fix_success_rate": "Auto-fix success rate"
  },
  "closes_loop_to": "71-feedback-loops"
}
