name: API Governance Policy
description: Defines API design standards, versioning, and compatibility rules
version: "1.0"

enforcement: strict

rules:
  # REST Conventions
  rest_conventions:
    http_methods:
      GET: "read operations"
      POST: "create operations"
      PUT: "full replacement"
      PATCH: "partial update"
      DELETE: "resource deletion"
    status_codes:
      required: [200, 201, 204, 400, 401, 403, 404, 500]
    naming:
      resource_pattern: "^/[a-z]([a-z0-9-]*[a-z0-9])?(/[a-z]([a-z0-9-]*[a-z0-9])?)*$"
      enforcement: strict

  # API Versioning
  versioning:
    strategy: "url-based"  # /api/v1/, /api/v2/
    format: "semantic"  # MAJOR.MINOR.PATCH
    breaking_change_policy: "major_version_required"
    deprecation_period_days: 180
    sunset_header: required

  # API Documentation
  documentation:
    format: "OpenAPI 3.0"
    required_fields:
      - "summary"
      - "description"
      - "parameters"
      - "requestBody"
      - "responses"
      - "examples"
    api_key_documentation: required
    error_documentation: required

  # Rate Limiting & Quotas
  rate_limiting:
    required: true
    default_rpm: 1000
    documentation: required

  # Backward Compatibility
  backward_compatibility:
    max_breaking_changes_per_release: 0
    deprecation_warning_required: true
    migration_guide_required: true

  # Security Standards
  security:
    authentication: required
    authorization: required
    encryption: "https_only"
    cors_policy: "explicitly_defined"

  # Data Format
  data_format:
    default: "JSON"
    alternatives: ["XML"]
    charset: "UTF-8"

dependencies:
  - "docs-governance"
  - "security-governance"
  - "architecture-governance"
  - "common"

compliance_metrics:
  - name: "API Documentation Completeness"
    threshold: 100
    frequency: "continuous"

  - name: "Versioning Compliance"
    threshold: 100
    frequency: "continuous"

  - name: "Security Requirements Met"
    threshold: 100
    frequency: "monthly"

  - name: "Backward Compatibility"
    threshold: 100
    frequency: "per-release"
