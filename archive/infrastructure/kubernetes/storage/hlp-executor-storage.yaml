apiVersion: machinenativeops.io/v2
kind: PersistentVolumeClaim
metadata:
  name: hlp-executor-state
  namespace: machinenativenops
  labels:
    machinenativeops.io/app: hlp-executor-core
    machinenativeops.io/component: execution-engine
    machinenativeops.io/storage-type: state
  annotations:
    machinenativeops.io/description: Persistent storage for HLP Executor Core execution
      state and checkpoints
    machinenativeops.io/storage-provisioner: kubernetes.io/default-provisioner
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 100Gi
  volumeMode: Filesystem
---
apiVersion: machinenativeops.io/v2
kind: ConfigMap
metadata:
  name: hlp-executor-config
  namespace: machinenativenops
  labels:
    machinenativeops.io/app: hlp-executor-core
    machinenativeops.io/component: execution-engine
  annotations:
    machinenativeops.io/description: Configuration for HLP Executor Core
data:
  executor.yaml: "# HLP Executor Core Configuration\n\n# Execution Settings\nexecution:\n\
    \  max_concurrent_executions: 1000\n  max_plan_units_per_execution: 500\n  state_history_retention_days:\
    \ 7\n  default_timeout_seconds: 3600\n\n# DAG Orchestration\ndag_orchestration:\n\
    \  topological_sort_enabled: true\n  risk_weighted_scheduling: true\n  critical_path_analysis:\
    \ true\n  max_width_parallelization: true\n  max_parallel_tasks: 100\n\n# State\
    \ Machine\nstate_machine:\n  initial_state: \"PENDING\"\n  checkpoint_frequency:\
    \ \"per-phase\"\n  recovery_strategy: \"last-known-good-state\"\n  states:\n \
    \   - name: \"PENDING\"\n      timeout_seconds: 300\n    - name: \"SCHEDULING\"\
    \n      timeout_seconds: 600\n    - name: \"EXECUTING\"\n      timeout_seconds:\
    \ 3600\n    - name: \"VERIFYING\"\n      timeout_seconds: 300\n    - name: \"\
    COMMIT\"\n      final_state: true\n    - name: \"FAILED\"\n      final_state:\
    \ true\n    - name: \"ROLLBACK\"\n      recovery_state: true\n\n# Partial Rollback\n\
    partial_rollback:\n  enabled: true\n  checkpoint_retention: 5\n  scope_levels:\n\
    \    - \"phase\"\n    - \"plan-unit\"\n    - \"artifact\"\n  triggers:\n    -\
    \ condition: \"validation-failure\"\n      scope: \"phase\"\n      action: \"\
    rollback-current-phase\"\n    - condition: \"resource-exhaustion\"\n      scope:\
    \ \"plan-unit\"\n      action: \"reschedule-with-backoff\"\n    - condition: \"\
    security-violation\"\n      scope: \"entire-execution\"\n      action: \"emergency-stop-and-rollback\"\
    \n\n# Retry Policies\nretry_policies:\n  base_delay_ms: 2000\n  max_attempts:\
    \ 4\n  max_delay_ms: 30000\n  jitter_enabled: true\n  risk_adaptive_enabled: true\n\
    \  exponential_backoff: true\n\n# Circuit Breaker\ncircuit_breaker:\n  failure_threshold:\
    \ 5\n  recovery_timeout_seconds: 30\n  half_open_max_calls: 3\n\n# Quantum Integration\n\
    quantum:\n  enabled: false\n  fallback_mode: \"classical\"\n  scheduler_endpoint:\
    \ \"quantum-scheduler.unmanned-island-system.svc.cluster.local:8888\"\n  circuit_optimizer_endpoint:\
    \ \"quantum-circuit-optimizer.unmanned-island-system.svc.cluster.local:8889\"\n\
    \n# Knowledge Graph Integration\nknowledge_graph:\n  enabled: true\n  kg_builder_endpoint:\
    \ \"kg-graph-builder.unmanned-island-system.svc.cluster.local:8890\"\n  vector_search_endpoint:\
    \ \"kg-vector-hybrid.unmanned-island-system.svc.cluster.local:8891\"\n\n# Observability\n\
    observability:\n  metrics:\n    enabled: true\n    port: 9090\n    path: \"/metrics\"\
    \n  logging:\n    format: \"json\"\n    level: \"INFO\"\n    correlation_id: \"\
    trace-context\"\n    structured: true\n  tracing:\n    enabled: true\n    sampling_rate:\
    \ 0.1\n    exporters:\n      - \"jaeger\"\n      - \"otel-collector\"\n\n# Performance\
    \ SLO\nperformance:\n  dag_parse_latency_p95_ms: 120\n  state_transition_latency_p90_ms:\
    \ 50\n  recovery_time_objective_seconds: 30\n  availability_target: 0.999\n\n\
    # Security\nsecurity:\n  slsa_level: 3\n  requires_signing: true\n  network_policy_enabled:\
    \ true\n  rbac_enabled: true\n  trust_bundle_path: \"/etc/unmanned-island/trust\"\
    \n"
---
apiVersion: machinenativeops.io/v2
kind: ConfigMap
metadata:
  name: unmanned-island-trust-bundle
  namespace: machinenativenops
  labels:
    machinenativeops.io/app: unmanned-island
    machinenativeops.io/component: security
  annotations:
    machinenativeops.io/description: Trust bundle for certificate validation
data:
  ca-bundle.crt: '# Placeholder for CA certificates

    # Replace with actual CA certificates in production

    # -----BEGIN CERTIFICATE-----

    # ... CA certificate content ...

    # -----END CERTIFICATE-----

    '
  hlp-executor-core.pub: '# Placeholder for HLP Executor Core public key

    # Replace with actual public key for signature verification

    # -----BEGIN PUBLIC KEY-----

    # ... public key content ...

    # -----END PUBLIC KEY-----

    '
