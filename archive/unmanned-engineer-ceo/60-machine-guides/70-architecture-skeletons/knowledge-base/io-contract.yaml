schemas:
  knowledge_base_input:
    description: 知識庫請求：查詢、更新或結構化知識
    properties:
      action_type:
        description: 執行動作類型
        enum:
        - query_knowledge
        - update_knowledge
        - validate_completeness
        - generate_graph
        - find_related_entities
        type: string
      context:
        description: 查詢背景與域名
        properties:
          component:
            type: string
          domain:
            type: string
          tags:
            items:
              type: string
            type: array
        type: object
      knowledge_update:
        description: 知識更新內容（若適用）
        type: object
      query:
        description: 知識查詢（自然語言或結構化）
        type: string
    required:
    - action_type
    - query
    type: object
  knowledge_base_report:
    description: 知識庫查詢報告：相關文檔、決策記錄與架構信息
    properties:
      architecture_context:
        properties:
          best_practices:
            items:
              type: string
            type: array
          dependencies:
            items:
              type: string
            type: array
          related_components:
            items:
              type: string
            type: array
        type: object
      decision_records:
        items:
          properties:
            adr_id:
              type: string
            consequences:
              items:
                type: string
              type: array
            decision:
              type: string
            rationale:
              type: string
            status:
              enum:
              - accepted
              - superseded
              - deprecated
              - proposed
            title:
              type: string
          type: object
        type: array
      knowledge_gaps:
        items:
          properties:
            gap_description:
              type: string
            severity:
              enum:
              - low
              - medium
              - high
          type: object
        type: array
      metadata:
        properties:
          coverage_areas:
            items:
              type: string
            type: array
          last_updated:
            format: date
            type: string
          missing_documentation:
            items:
              type: string
            type: array
        type: object
      query:
        type: string
      relevant_documents:
        items:
          properties:
            document_id:
              type: string
            excerpt:
              type: string
            path:
              type: string
            relevance_score:
              maximum: 1
              minimum: 0
              type: number
            tags:
              items:
                type: string
              type: array
            title:
              type: string
          type: object
        type: array
      timestamp:
        format: date-time
        type: string
    required:
    - query
    - relevant_documents
    type: object
  knowledge_base_suggestion:
    description: 知識庫改善建議：文檔補充、結構重構或知識圖更新
    properties:
      identified_gaps:
        items:
          type: string
        type: array
      impact:
        properties:
          affected_components:
            items:
              type: string
            type: array
          knowledge_coverage_improvement:
            maximum: 1
            minimum: 0
            type: number
          query_performance_impact:
            type: string
        type: object
      implementation_effort:
        enum:
        - low
        - medium
        - high
        type: string
      proposed_content:
        properties:
          document_outline:
            items:
              type: string
            type: array
          key_topics:
            items:
              type: string
            type: array
          suggested_structure:
            type: object
        type: object
      suggestion_type:
        enum:
        - document_addition
        - structure_optimization
        - link_missing_documents
        - create_adr
        - update_knowledge_graph
        type: string
    required:
    - suggestion_type
    - identified_gaps
    type: object
skeleton_id: knowledge-base
version: 1.0.0
