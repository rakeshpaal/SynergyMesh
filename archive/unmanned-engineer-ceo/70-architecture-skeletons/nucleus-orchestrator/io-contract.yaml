schemas:
  failure_recovery:
    description: 失敗恢復報告
    properties:
      failure_point:
        type: string
      recovery_action:
        enum:
        - retry
        - skip
        - rollback
        - manual_intervention
        type: string
      result:
        enum:
        - recovered
        - failed
        - manual_input_pending
        type: string
      workflow_id:
        type: string
    required:
    - workflow_id
    - failure_point
    - recovery_action
    type: object
  orchestration_state:
    description: 編排狀態快照
    properties:
      current_step:
        type: string
      error:
        properties:
          reason:
            type: string
          step_id:
            type: string
        type: object
      execution_id:
        type: string
      status:
        enum:
        - pending
        - running
        - completed
        - failed
        - paused
        type: string
      step_results:
        additionalProperties: true
        type: object
      workflow_id:
        type: string
    required:
    - workflow_id
    - execution_id
    - current_step
    - status
    type: object
  workflow_definition:
    description: 工作流定義
    properties:
      id:
        type: string
      name:
        type: string
      steps:
        items:
          properties:
            action:
              type: string
            depends_on:
              items:
                type: string
              type: array
            id:
              type: string
            retry:
              properties:
                backoff_ms:
                  type: integer
                max_attempts:
                  type: integer
              type: object
            type:
              enum:
              - sequential
              - parallel
              - conditional
              - loop
              type: string
          required:
          - id
          - type
          - action
          type: object
        type: array
    required:
    - id
    - name
    - steps
    - initial_state
    type: object
version: 0.1.0
