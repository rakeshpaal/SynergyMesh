# Cloudflare Pages éƒ¨ç½²å¿«é€ŸæŒ‡å—

æœ¬æŒ‡å—èªªæ˜å¦‚ä½•å°‡ `web/` ç›®éŒ„éƒ¨ç½²åˆ° Cloudflare Pagesã€‚

## ğŸ¯ éƒ¨ç½²ç›®æ¨™

- **å°ˆæ¡ˆåç¨±**: machine-native-ops
- **Git å­˜æ”¾åº«**: MachineNativeOps/machine-native-ops
- **æ ¹ç›®éŒ„**: web
- **ç”Ÿç”¢åˆ†æ”¯**: main

## ğŸ“‹ å‰ç½®éœ€æ±‚

1. Cloudflare å¸³è™Ÿ
2. Git å­˜æ”¾åº«å·²é€£æ¥åˆ° Cloudflare Pages
3. Node.js 18.x æˆ–æ›´é«˜ç‰ˆæœ¬

## ğŸš€ éƒ¨ç½²æ­¥é©Ÿ

### æ–¹æ³• 1: é€šé Cloudflare Dashboard (æ¨è–¦)

1. **ç™»å…¥ Cloudflare Dashboard**
   - å‰å¾€ https://dash.cloudflare.com/
   - é¸æ“‡ä½ çš„å¸³è™Ÿ

2. **å»ºç«‹ Pages å°ˆæ¡ˆ**
   - é»æ“Š "Pages" â†’ "Create a project"
   - é¸æ“‡ "Connect to Git"
   - é¸æ“‡ `MachineNativeOps/machine-native-ops` å­˜æ”¾åº«

3. **é…ç½®çµ„å»ºè¨­å®š**
   ```
   å°ˆæ¡ˆåç¨±: machine-native-ops
   ç”Ÿç”¢åˆ†æ”¯: main
   çµ„å»ºå‘½ä»¤: npm run build
   çµ„å»ºè¼¸å‡ºç›®éŒ„: dist
   æ ¹ç›®éŒ„: web
   ```

4. **è¨­å®šç’°å¢ƒè®Šæ•¸** (å¯é¸)
   - å‰å¾€å°ˆæ¡ˆè¨­å®š â†’ Environment variables
   - æ–°å¢éœ€è¦çš„ç’°å¢ƒè®Šæ•¸

5. **å„²å­˜ä¸¦éƒ¨ç½²**
   - é»æ“Š "Save and Deploy"
   - Cloudflare å°‡è‡ªå‹•é–‹å§‹å»ºç½®å’Œéƒ¨ç½²

### æ–¹æ³• 2: ä½¿ç”¨ Wrangler CLI

```bash
# å®‰è£ Wrangler (å¦‚æœå°šæœªå®‰è£)
npm install -g wrangler

# ç™»å…¥ Cloudflare
wrangler login

# é€²å…¥ web ç›®éŒ„
cd web

# å®‰è£ä¾è³´
npm install

# å»ºç½®å°ˆæ¡ˆ
npm run build

# éƒ¨ç½²åˆ° Cloudflare Pages
wrangler pages deploy dist --project-name=machine-native-ops
```

## âš™ï¸ Cloudflare Pages é…ç½®

### çµ„å»ºçµ„æ…‹

| è¨­å®šé …ç›® | å€¼ |
|---------|-----|
| çµ„å»ºå‘½ä»¤ | `npm run build` |
| çµ„å»ºè¼¸å‡º | `dist` |
| æ ¹ç›®éŒ„ | `web` |
| çµ„å»ºè¨»è§£ | å·²å•Ÿç”¨ |
| çµ„å»ºå¿«å– | å·²å•Ÿç”¨ (å¯æ¸…é™¤å¿«å–) |

### åˆ†æ”¯æ§åˆ¶

- **ç”Ÿç”¢åˆ†æ”¯**: `main`
- **è‡ªå‹•éƒ¨ç½²**: å·²å•Ÿç”¨
- æ‰€æœ‰åˆ†æ”¯æ¨é€æ™‚éƒ½æœƒè§¸ç™¼å»ºç½®å’Œéƒ¨ç½²

### çµ„å»ºç›£çœ‹å¼è·¯å¾‘

- **åŒ…æ‹¬è·¯å¾‘**: `*` (ç›£çœ‹ web ç›®éŒ„å…§çš„æ‰€æœ‰æª”æ¡ˆ)

### çµ„å»ºç³»çµ±ç‰ˆæœ¬

- **ç‰ˆæœ¬**: Version 3 (æœ€æ–°ç‰ˆ)

### åŸ·è¡Œéšæ®µé…ç½®

#### Placement
- **è¨­å®š**: é è¨­ (Smart Placement)
- è‡ªå‹•é¸æ“‡æœ€ä½³çš„åŸ·è¡Œä½ç½®ä»¥é™ä½å»¶é²

#### ç›¸å®¹æ€§è¨­å®š
- **ç›¸å®¹æ€§æ—¥æœŸ**: 2025-12-24
- **ç›¸å®¹æ€§æ——æ¨™**: æœªå®šç¾©æ——æ¨™
- ä½¿ç”¨æœ€æ–°çš„ Cloudflare Workers åŸ·è¡Œéšæ®µåŠŸèƒ½

### Pages Functions è¨ˆè²»

- **CPU æ™‚é–“é™åˆ¶**: æœªè¨­å®š (ä½¿ç”¨é è¨­å€¼)
- æ ¹æ“šä½¿ç”¨é‡è¨ˆè²»

## ğŸ” é€²éšé…ç½®

### ç’°å¢ƒè®Šæ•¸å’Œç¥•å¯†

åœ¨ Cloudflare Pages Dashboard ä¸­è¨­å®š:

1. å‰å¾€å°ˆæ¡ˆ â†’ Settings â†’ Environment variables
2. æ–°å¢è®Šæ•¸:
   - **è®Šæ•¸**: ç”¨æ–¼é…ç½® (å¦‚ API_URL)
   - **ç¥•å¯†**: ç”¨æ–¼æ•æ„Ÿè³‡æ–™ (å¦‚ API_KEY)

### ç¹«çµ (Bindings)

å®šç¾© Pages Function å¯ç”¨çš„è³‡æº:

- **KV Namespaces**: éµå€¼å„²å­˜
- **D1 Databases**: SQL è³‡æ–™åº«
- **R2 Buckets**: ç‰©ä»¶å„²å­˜
- **Durable Objects**: ç‹€æ…‹ç®¡ç†
- **Workers AI**: AI åŠŸèƒ½

åœ¨å°ˆæ¡ˆ Settings â†’ Bindings ä¸­é…ç½®ã€‚

### é€šçŸ¥è¨­å®š

è¨­å®šéƒ¨ç½²é€šçŸ¥:

1. å‰å¾€å°ˆæ¡ˆ â†’ Settings â†’ Notifications
2. æ–°å¢é€šçŸ¥è¦å‰‡
3. é¸æ“‡é€šçŸ¥ç®¡é“ (Email, Webhook, Slack)

### å­˜å–åŸå‰‡

æ§åˆ¶èª°å¯ä»¥å­˜å–ä½ çš„ Pages å°ˆæ¡ˆ:

1. å‰å¾€å°ˆæ¡ˆ â†’ Settings â†’ Access policies
2. é…ç½®å­˜å–è¦å‰‡
3. é¸é …:
   - å…¬é–‹å­˜å–
   - éœ€è¦é©—è­‰
   - IP ç™½åå–®

## ğŸ“Š éƒ¨ç½²å¾Œé©—è­‰

### æª¢æŸ¥éƒ¨ç½²ç‹€æ…‹

1. åœ¨ Cloudflare Dashboard æŸ¥çœ‹éƒ¨ç½²æ—¥èªŒ
2. ç¢ºèªå»ºç½®æˆåŠŸ
3. è¨ªå•éƒ¨ç½²çš„ URL

### æ¸¬è©¦ç¶²ç«™åŠŸèƒ½

1. æª¢æŸ¥é é¢è¼‰å…¥
2. é©—è­‰è³‡æºè¼‰å…¥æ­£ç¢º
3. æ¸¬è©¦äº’å‹•åŠŸèƒ½

### æŸ¥çœ‹æ•ˆèƒ½æŒ‡æ¨™

1. å‰å¾€å°ˆæ¡ˆ â†’ Analytics
2. æŸ¥çœ‹:
   - è«‹æ±‚æ•¸é‡
   - é »å¯¬ä½¿ç”¨
   - éŒ¯èª¤ç‡
   - å›æ‡‰æ™‚é–“

## ğŸ”„ æŒçºŒéƒ¨ç½²

æ¯æ¬¡æ¨é€åˆ° GitHub æ™‚:

1. Cloudflare Pages è‡ªå‹•æª¢æ¸¬è®Šæ›´
2. åŸ·è¡Œçµ„å»ºå‘½ä»¤ (`npm run build`)
3. éƒ¨ç½²æ–°ç‰ˆæœ¬
4. ç™¼é€é€šçŸ¥ (å¦‚æœå·²é…ç½®)

### åˆ†æ”¯éƒ¨ç½²ç­–ç•¥

- **main åˆ†æ”¯**: éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
  - URL: `https://machine-native-ops.pages.dev`
  
- **å…¶ä»–åˆ†æ”¯**: éƒ¨ç½²åˆ°é è¦½ç’°å¢ƒ
  - URL: `https://<branch-name>.machine-native-ops.pages.dev`

## ğŸ› ï¸ ç–‘é›£æ’è§£

### å»ºç½®å¤±æ•—

**å•é¡Œ**: å»ºç½®å‘½ä»¤å¤±æ•—

**è§£æ±ºæ–¹æ³•**:
1. æª¢æŸ¥ `package.json` ä¾è³´ç‰ˆæœ¬
2. ç¢ºèª Node.js ç‰ˆæœ¬ (éœ€è¦ 18.x+)
3. æŸ¥çœ‹å»ºç½®æ—¥èªŒä¸­çš„éŒ¯èª¤è¨Šæ¯
4. æœ¬åœ°åŸ·è¡Œ `npm run build` é‡ç¾å•é¡Œ

### éƒ¨ç½²å¤±æ•—

**å•é¡Œ**: éƒ¨ç½²éç¨‹ä¸­å‡ºéŒ¯

**è§£æ±ºæ–¹æ³•**:
1. é©—è­‰ Git å­˜æ”¾åº«æ¬Šé™
2. æª¢æŸ¥ `dist/` ç›®éŒ„æ˜¯å¦æ­£ç¢ºç”Ÿæˆ
3. ç¢ºèªæ ¹ç›®éŒ„è¨­å®šç‚º `web`
4. æŸ¥çœ‹éƒ¨ç½²æ—¥èªŒ

### åŸ·è¡Œéšæ®µéŒ¯èª¤

**å•é¡Œ**: ç¶²ç«™é‹è¡Œæ™‚å‡ºç¾éŒ¯èª¤

**è§£æ±ºæ–¹æ³•**:
1. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸é…ç½®
2. é©—è­‰ç¹«çµè¨­å®š
3. æŸ¥çœ‹ Pages Functions æ—¥èªŒ
4. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [web/README.md](web/README.md) - Web å°ˆæ¡ˆè©³ç´°èªªæ˜
- [web/CLOUDFLARE_PAGES_SETUP.md](web/CLOUDFLARE_PAGES_SETUP.md) - å®Œæ•´é…ç½®æŒ‡å—
- [Cloudflare Pages å®˜æ–¹æ–‡æª”](https://developers.cloudflare.com/pages/)
- [Wrangler CLI æ–‡æª”](https://developers.cloudflare.com/workers/wrangler/)

## ğŸ—‘ï¸ åˆªé™¤å°ˆæ¡ˆ

âš ï¸ **è­¦å‘Š**: æ°¸ä¹…åˆªé™¤å°‡ç§»é™¤æ‰€æœ‰éƒ¨ç½²ã€è³‡ç”¢ã€Functions å’Œè¨­å®šï¼

åœ¨ Cloudflare Dashboard:
1. å‰å¾€å°ˆæ¡ˆè¨­å®š
2. æ»¾å‹•åˆ°é é¢åº•éƒ¨
3. é»æ“Š "Delete project"
4. ç¢ºèªåˆªé™¤æ“ä½œ

## ğŸ“ ç²å–æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–éœ€è¦å”åŠ©:
- é–‹å•Ÿ GitHub Issue
- æŸ¥çœ‹ Cloudflare Pages æ–‡æª”
- è¯ç¹« Cloudflare æ”¯æ´åœ˜éšŠ

---

**æœ€å¾Œæ›´æ–°**: 2025-01-03  
**ç¶­è­·è€…**: MachineNativeOps Team
