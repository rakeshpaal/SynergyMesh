# MachineNativeOps Namespace Configuration
# 對齊所有 MachineNativeOps 標準

apiVersion: machinenativeops.io/v2
kind: MachineNativeOpsGlobalBaseline
metadata:
  name: mno-namespace-baseline
  namespace: machinenativenops
  labels:
    machinenativeops.io/name: mno-namespace-baseline
    machinenativeops.io/version: v2.0.0
    machinenativeops.io/component: namespace-configuration
    machinenativeops.io/managed-by: machine-native-ops
  annotations:
    machinenativeops.io/description: "MachineNativeOps namespace baseline configuration"
    machinenativeops.io/created-by: "namespace-alignment-tool"
    machinenativeops.io/registry: "registry.machinenativeops.io"
    machinenativeops.io/certificate-path: "etc/machinenativeops/pkl"
    machinenativeops.io/cluster-token: "super-agent-etcd-cluster"
spec:
  # MachineNativeOps 標準配置
  namespace: machinenativenops
  registry: registry.machinenativeops.io
  certificatePath: etc/machinenativeops/pkl
  clusterToken: super-agent-etcd-cluster
  
  # 標籤和註解前綴
  labelPrefix: machinenativeops.io
  annotationPrefix: machinenativeops.io
  urnPrefix: "urn:machinenativenops:"
  
  # API 版本配置
  apiVersion: machinenativeops.io/v2
  resourceType: MachineNativeOpsGlobalBaseline
  
  # 命名空間對齊規則
  alignmentRules:
    - name: "apiVersion alignment"
      pattern: "machinenativeops.io"
      required: true
    - name: "namespace alignment" 
      pattern: "machinenativenops"
      required: true
    - name: "registry alignment"
      pattern: "registry.machinenativeops.io"
      required: true
    - name: "certificate path alignment"
      pattern: "etc/machinenativeops/pkl"
      required: true
    - name: "cluster token alignment"
      pattern: "super-agent-etcd-cluster"
      required: true
  
  # 驗證配置
  validation:
    strictMode: true
    enforceAllTags: true
    checkLegacyReferences: false
    
  # 轉換配置
  conversion:
    autoFix: true
    backupEnabled: true
    dryRunSupported: true
