# ═════════════════════════════════════════════════════════════════════════════
#              AI 工程架構指南 - 骨架中心索引
#              AI Engineering Architecture Skeletons Index
# ═════════════════════════════════════════════════════════════════════════════
#
# 說明 / Description:
# 本索引為 AI 提供統一的架構指南查詢入口。11 個骨架涵蓋系統設計的各個面向。
# This index provides AI with unified architecture skeleton lookup.
# 11 skeletons cover all aspects of system design.
#
# 使用方式 / Usage:
# 1. AI 根據任務類型查詢相關骨架 (skeleton_id)
# 2. 找到骨架後，讀取該骨架的 overview.md 理解用途
# 3. 查閱 io-contract.yaml 確認輸入/輸出格式
# 4. 檢查 guardrails.md 了解不可越界的邊界
# 5. 使用 checklists.md 進行自我檢查
# ═════════════════════════════════════════════════════════════════════════════

version: "1.0.0"
last_updated: "2025-12-04"
language: "Traditional Chinese (繁體中文)"

# ═════════════════════════════════════════════════════════════════════════════
# 骨架快速查詢表 / Skeleton Quick Reference
# ═════════════════════════════════════════════════════════════════════════════
skeletons:
  # 1. 架構穩定性骨架 - 系統架構設計、服務邊界、模組依賴
  - skeleton_id: "architecture-stability"
    name: "架構穩定性骨架 / Architecture Stability Skeleton"
    priority: 1
    description: |
      負責系統整體架構設計、服務邊界定義、模組依賴管理。
      AI 在設計新系統或重構現有系統時應優先查詢此骨架。
    use_cases:
      - "系統架構設計"
      - "服務邊界劃分"
      - "模組依賴規劃"
      - "整體拓撲設計"
    path: "./architecture-stability"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 2. 安全與可觀測性骨架 - 安全機制、監控告警、日誌追蹤
  - skeleton_id: "security-observability"
    name: "安全與可觀測性骨架 / Security & Observability Skeleton"
    priority: 2
    description: |
      涵蓋系統安全機制（SLSA、Sigstore）、監控告警設置、分散式追蹤。
      AI 在設計安全策略或監控方案時應查詢此骨架。
    use_cases:
      - "安全機制設計"
      - "監控告警設置"
      - "日誌收集配置"
      - "分散式追蹤"
      - "漏洞掃描"
    path: "./security-observability"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 3. 身份與多租戶骨架 - 使用者驗證、授權策略、租戶隔離
  - skeleton_id: "identity-tenancy"
    name: "身份與多租戶骨架 / Identity & Tenancy Skeleton"
    priority: 3
    description: |
      處理使用者身份驗證、授權決策、多租戶隔離、存取控制。
      AI 在實現認證授權或租戶管理時應查詢此骨架。
    use_cases:
      - "身份驗證設計"
      - "授權策略實現"
      - "多租戶隔離"
      - "存取控制配置"
      - "敏感資訊加密"
    path: "./identity-tenancy"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 4. API 治理骨架 - API 設計、版本管理、合約驗證、向後相容
  - skeleton_id: "api-governance"
    name: "API 治理骨架 / API Governance Skeleton"
    priority: 4
    description: |
      定義 API 設計標準、版本管理策略、合約驗證規則、向後相容政策。
      AI 在設計 API 或管理 API 生命週期時應查詢此骨架。
    use_cases:
      - "API 設計規範"
      - "API 版本管理"
      - "API 合約驗證"
      - "向後相容性檢查"
      - "API 文檔生成"
    path: "./api-governance"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 5. 資料治理骨架 - 資料模式、資料流、資料安全、GDPR 合規
  - skeleton_id: "data-governance"
    name: "資料治理骨架 / Data Governance Skeleton"
    priority: 5
    description: |
      規範資料模式設計、資料流向控制、資料安全保護、隱私法規遵循。
      AI 在處理資料架構或資料策略時應查詢此骨架。
    use_cases:
      - "資料模式設計"
      - "資料流向規劃"
      - "資料加密策略"
      - "隱私法規遵循"
      - "資料保留政策"
    path: "./data-governance"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 6. 測試治理骨架 - 測試策略、覆蓋率標準、CI/CD 集成、品質門檻
  - skeleton_id: "testing-governance"
    name: "測試治理骨架 / Testing Governance Skeleton"
    priority: 6
    description: |
      制定測試策略、覆蓋率要求、自動化測試框架、品質門檻標準。
      AI 在設計測試計劃或改進測試流程時應查詢此骨架。
    use_cases:
      - "測試策略制定"
      - "測試覆蓋率規劃"
      - "自動化測試框架"
      - "CI/CD 品質門檢"
      - "故障根因分析"
    path: "./testing-governance"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 7. 性能與可靠性骨架 - SLA 目標、容量規劃、故障恢復、災難復原
  - skeleton_id: "performance-reliability"
    name: "性能與可靠性骨架 / Performance & Reliability Skeleton"
    priority: 7
    description: |
      定義 SLA 目標、容量規劃、故障恢復策略、災難復原計畫。
      AI 在優化系統性能或規劃可靠性方案時應查詢此骨架。
    use_cases:
      - "SLA 目標制定"
      - "容量規劃"
      - "故障恢復設計"
      - "災難復原計畫"
      - "性能優化"
    path: "./performance-reliability"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 8. 成本管理骨架 - 成本監控、資源優化、預算規劃、ROI 分析
  - skeleton_id: "cost-management"
    name: "成本管理骨架 / Cost Management Skeleton"
    priority: 8
    description: |
      監控資源成本、優化資源使用、預算規劃、投資回報分析。
      AI 在進行成本優化或資源規劃時應查詢此骨架。
    use_cases:
      - "成本監控"
      - "資源優化"
      - "預算規劃"
      - "成本預測"
      - "ROI 分析"
    path: "./cost-management"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 9. 文檔治理骨架 - 文檔標準、更新流程、機器可讀文檔、知識傳遞
  - skeleton_id: "docs-governance"
    name: "文檔治理骨架 / Documentation Governance Skeleton"
    priority: 9
    description: |
      規範文檔撰寫標準、文檔更新流程、機器可讀文檔、知識庫維護。
      AI 在產出文檔或維護知識庫時應查詢此骨架。
    use_cases:
      - "文檔標準制定"
      - "文檔更新流程"
      - "機器可讀文檔"
      - "知識庫維護"
      - "文檔版本管理"
    path: "./docs-governance"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 10. 知識庫骨架 - 知識組織、查詢機制、更新策略、AI 上下文管理
  - skeleton_id: "knowledge-base"
    name: "知識庫骨架 / Knowledge Base Skeleton"
    priority: 10
    description: |
      組織系統知識、提供高效查詢、更新維護策略、AI 上下文管理。
      AI 在查詢系統知識或更新知識庫時應查詢此骨架。
    use_cases:
      - "知識組織結構"
      - "知識查詢接口"
      - "知識更新策略"
      - "AI 上下文提供"
      - "知識版本控制"
    path: "./knowledge-base"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

  # 11. 核心編排骨架 - 工作流編排、代理協調、任務分派、狀態管理
  - skeleton_id: "nucleus-orchestrator"
    name: "核心編排骨架 / Nucleus Orchestrator Skeleton"
    priority: 11
    description: |
      協調多代理工作流、管理任務分派、維護狀態一致性。
      AI 在編排複雜工作流或協調多個代理時應查詢此骨架。
    use_cases:
      - "工作流設計"
      - "代理協調"
      - "任務分派"
      - "狀態管理"
      - "故障恢復"
    path: "./nucleus-orchestrator"
    files:
      - "overview.md"
      - "runtime-mapping.yaml"
      - "io-contract.yaml"
      - "guardrails.md"
      - "checklists.md"

# ═════════════════════════════════════════════════════════════════════════════
# AI 查詢指南 / AI Query Guide
# ═════════════════════════════════════════════════════════════════════════════

ai_query_guide:
  when_designing_system:
    use_skeletons:
      - "architecture-stability"
      - "security-observability"
      - "performance-reliability"
    sequence: "按優先度順序查詢"

  when_handling_api:
    use_skeletons:
      - "api-governance"
      - "data-governance"
      - "testing-governance"
    sequence: "首先查詢 API Governance"

  when_managing_data:
    use_skeletons:
      - "data-governance"
      - "security-observability"
      - "identity-tenancy"
    sequence: "優先查詢 Data Governance"

  when_securing_system:
    use_skeletons:
      - "security-observability"
      - "identity-tenancy"
      - "data-governance"
    sequence: "依優先度檢查安全"

  when_optimizing_performance:
    use_skeletons:
      - "performance-reliability"
      - "cost-management"
      - "testing-governance"
    sequence: "先優化再驗證"

  when_documenting:
    use_skeletons:
      - "docs-governance"
      - "knowledge-base"
    sequence: "遵循文檔標準後更新知識庫"

# ═════════════════════════════════════════════════════════════════════════════
# 檔案結構說明 / File Structure Explanation
# ═════════════════════════════════════════════════════════════════════════════

file_structure:
  overview_md:
    description: "骨架用途說明"
    content: |
      - 骨架名稱與簡介
      - 適用場景與使用時機
      - 關鍵責任與不負責的內容
      - 與其他骨架的關係

  runtime_mapping_yaml:
    description: "映射到 monorepo 真實位置"
    content: |
      - 相關的源碼目錄路徑
      - 配置檔案位置
      - 實現檔案示例
      - 參考文檔位置

  io_contract_yaml:
    description: "AI 互動協議"
    content: |
      - 輸入格式 (JSON Schema)
      - 輸出格式 (JSON Schema)
      - 必填欄位
      - 可選欄位
      - 示例

  guardrails_md:
    description: "不可越界的邊界規則"
    content: |
      - 禁止操作列表
      - 安全紅線
      - 法規限制
      - 性能邊界

  checklists_md:
    description: "AI 自我檢查清單"
    content: |
      - 決策前必檢查項目
      - 實現前必驗證項目
      - 部署前必確認項目
      - 事後必追蹤項目

# ═════════════════════════════════════════════════════════════════════════════
# 更新日誌 / Update Log
# ═════════════════════════════════════════════════════════════════════════════

changelog:
  - version: "1.0.0"
    date: "2025-12-04"
    changes:
      - "初始版本：定義 11 個核心骨架"
      - "建立中心索引結構"
      - "定義檔案結構規範"
