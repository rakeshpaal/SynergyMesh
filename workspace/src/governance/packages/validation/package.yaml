# =============================================================================
# SynergyMesh Governance - Validation Package
# Schema validation and policy enforcement utilities
# =============================================================================

apiVersion: governance.machinenativeops.io/v2
kind: Package
metadata:
  name: validation
  version: "1.0.0"
  description: "Schema validation and policy enforcement"
  owner: governance-bot
  created_at: "2025-12-11T00:00:00Z"

spec:
  type: utility
  language: python

  exports:
    - name: SchemaValidator
      type: class
      description: "JSON Schema validation"
    - name: PolicyValidator
      type: class
      description: "OPA policy validation"
    - name: ConfigValidator
      type: class
      description: "Configuration validation"
    - name: validate_schema
      type: function
      description: "Validate data against JSON Schema"
    - name: validate_policy
      type: function
      description: "Validate data against OPA policy"
    - name: validate_dimension
      type: function
      description: "Validate dimension module"

  dependencies:
    required:
      - name: jsonschema
        version: ">=4.20.0"
      - name: opa-python
        version: ">=0.5.0"
      - name: pyyaml
        version: ">=6.0"
    optional:
      - name: cerberus
        version: ">=1.3.0"

  configuration:
    strict_mode:
      type: boolean
      default: true
      description: "Fail on any validation error"
    cache_schemas:
      type: boolean
      default: true
    report_format:
      type: string
      enum: [json, yaml, text]
      default: json

  interfaces:
    - name: validate
      inputs:
        - name: data
          type: object
        - name: schema
          type: object
        - name: options
          type: object
      outputs:
        - name: valid
          type: boolean
        - name: errors
          type: array
        - name: warnings
          type: array

  compliance:
    - "All inputs must be validated"
    - "Validation results must be logged"
    - "Schema versions must be tracked"
