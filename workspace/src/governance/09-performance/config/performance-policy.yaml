name: Performance Governance Policy
description: Defines performance standards, budgets, and optimization requirements
version: "1.0"

enforcement: strict

rules:
  # Performance Baselines
  performance_baselines:
    api_response_time_p99: "500ms"
    api_response_time_p95: "200ms"
    api_response_time_p50: "100ms"
    database_query_time_p99: "100ms"
    page_load_time: "3s"
    first_contentful_paint: "1.5s"

  # Performance Budgets
  performance_budgets:
    javascript_bundle: "250KB"
    css_bundle: "50KB"
    image_assets: "200KB"
    total_page_size: "400KB"
    third_party_scripts: "100KB"
    tracking: "continuous"
    enforcement: "build_gate"

  # Caching Strategies
  caching:
    browser_cache: required
    cdn_cache: required
    application_cache: "for_expensive_operations"
    cache_invalidation: "versioned"
    cache_ttl: "configurable_per_resource"

  # Load Testing
  load_testing:
    frequency: "per_release"
    concurrent_users: "peak_load_projection"
    sustainability_duration: "30 minutes"
    pass_criteria: "maintain_baseline"

  # Monitoring & Alerting
  monitoring:
    real_user_monitoring: required
    synthetic_monitoring: required
    alert_thresholds:
      response_time_p99: "1000ms"
      error_rate: "1%"
      throughput_decrease: "20%"
    alert_escalation: "immediate"

  # Code Optimization
  code_optimization:
    minification: required
    tree_shaking: required
    lazy_loading: required
    image_optimization: required
    unused_code_removal: "automated"

dependencies:
  - "architecture-governance"
  - "testing-governance"
  - "data-governance"
  - "common"

compliance_metrics:
  - name: "Response Time Compliance"
    threshold: "p99 < 500ms"
    frequency: "continuous"

  - name: "Performance Budget Compliance"
    threshold: 100
    frequency: "per_build"

  - name: "Load Test Pass Rate"
    threshold: 100
    frequency: "per_release"

  - name: "Monitoring Coverage"
    threshold: 100
    frequency: "weekly"
