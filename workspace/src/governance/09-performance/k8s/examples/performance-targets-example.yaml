---
apiVersion: governance.machinenativeops.io/v1
kind: PerformanceTargets
metadata:
  name: enterprise-performance-targets-2025
  namespace: governance
  labels:
    category: "performance"
    year: "2025"
    department: "operations"
  annotations:
    governance.machinenativeops.io/created-by: "performance-manager"
    governance.machinenativeops.io/approved-by: "cto"
spec:
  targetsId: "TARGETS-2025-001"
  title: "Enterprise Performance Targets 2025"
  description: "Comprehensive performance targets for all enterprise services and systems"
  version: "1.0.0"
  effectivePeriod:
    startDate: "2025-01-01"
    endDate: "2025-12-31"
    reviewFrequency: "quarterly"
  performanceCategories:
  - category: "availability"
    description: "系統可用性指標"
    targets:
    - metric: "uptime_percentage"
      displayName: "Uptime Percentage"
      target: "99.9%"
      threshold: "99.5%"
      measurement: "monthly"
      unit: "percentage"
      aggregation: "average"
      weight: 0.3
      slaImpact: true
      businessCritical: true
    - metric: "planned_downtime"
      displayName: "Planned Downtime"
      target: "< 4 hours/month"
      threshold: "< 8 hours/month"
      measurement: "monthly"
      unit: "hours"
      aggregation: "sum"
      weight: 0.1
      slaImpact: true
      businessCritical: false
  - category: "response_time"
    description: "響應時間指標"
    targets:
    - metric: "api_response_p95"
      displayName: "API Response Time (95th percentile)"
      target: "< 500ms"
      threshold: "< 800ms"
      measurement: "continuous"
      unit: "milliseconds"
      aggregation: "p95"
      weight: 0.25
      slaImpact: true
      businessCritical: true
    - metric: "web_page_load_time"
      displayName: "Web Page Load Time"
      target: "< 2 seconds"
      threshold: "< 3 seconds"
      measurement: "continuous"
      unit: "seconds"
      aggregation: "p90"
      weight: 0.15
      slaImpact: true
      businessCritical: true
  - category: "throughput"
    description: "吞吐量指標"
    targets:
    - metric: "requests_per_second"
      displayName: "Requests Per Second"
      target: "> 10,000"
      threshold: "> 5,000"
      measurement: "continuous"
      unit: "rps"
      aggregation: "average"
      weight: 0.2
      slaImpact: true
      businessCritical: true
    - metric: "concurrent_users"
      displayName: "Concurrent Users"
      target: "> 50,000"
      threshold: "> 25,000"
      measurement: "continuous"
      unit: "users"
      aggregation: "max"
      weight: 0.1
      slaImpact: false
      businessCritical: true
  - category: "error_rate"
    description: "錯誤率指標"
    targets:
    - metric: "error_percentage"
      displayName: "Error Rate"
      target: "< 0.1%"
      threshold: "< 0.5%"
      measurement: "continuous"
      unit: "percentage"
      aggregation: "average"
      weight: 0.3
      slaImpact: true
      businessCritical: true
    - metric: "critical_errors"
      displayName: "Critical Errors"
      target: "0"
      threshold: "< 5 per day"
      measurement: "daily"
      unit: "count"
      aggregation: "sum"
      weight: 0.2
      slaImpact: true
      businessCritical: true
  serviceLevelObjectives:
  - name: "critical_services_slo"
    description: "關鍵服務 SLO"
    services: ["payment-service", "user-auth", "core-api", "order-processing"]
    availabilityTarget: "99.9%"
    latencyTarget: "p99 < 500ms"
    errorBudget: "0.1%"
    measurementPeriod: "30 days"
    alerting:
      burnRateAlert: true
      burnRateThreshold: 2
      notificationChannels: ["slack", "email", "pagerduty"]
    compliance:
      frameworks: ["SOX", "ISO-27001"]
      auditRequired: true
      reportingFrequency: "monthly"
  - name: "user_facing_services_slo"
    description: "用戶面向服務 SLO"
    services: ["web-portal", "mobile-app", "customer-dashboard"]
    availabilityTarget: "99.5%"
    latencyTarget: "p95 < 1s"
    errorBudget: "0.5%"
    measurementPeriod: "30 days"
    alerting:
      burnRateAlert: true
      burnRateThreshold: 1.5
      notificationChannels: ["slack", "email"]
    compliance:
      frameworks: ["SOX"]
      auditRequired: true
      reportingFrequency: "monthly"
  monitoringConfiguration:
    metricsCollection:
      interval: "30 seconds"
      retention: "90 days"
      aggregation: ["1m", "5m", "1h", "1d"]
      storageBackend: "prometheus"
    alertingRules:
    - name: "high_response_time"
      condition: "api_response_p95 > 500ms"
      duration: "5m"
      severity: "warning"
      labels:
        team: "platform"
        service: "api"
      annotations:
        summary: "High response time detected"
        description: "API response time is above threshold"
    - name: "high_error_rate"
      condition: "error_percentage > 0.5%"
      duration: "2m"
      severity: "critical"
      labels:
        team: "platform"
        service: "api"
      annotations:
        summary: "High error rate detected"
        description: "Error rate is above critical threshold"
    - name: "low_availability"
      condition: "uptime_percentage < 99.5%"
      duration: "10m"
      severity: "critical"
      labels:
        team: "platform"
        service: "api"
      annotations:
        summary: "Low availability detected"
        description: "Service availability is below threshold"
    dashboards:
    - name: "system_overview"
      title: "System Overview Dashboard"
      refreshInterval: "30s"
      panels: ["availability_gauge", "response_time_trend", "throughput_graph"]
      template: "standard-performance"
    - name: "service_details"
      title: "Service Details Dashboard"
      refreshInterval: "15s"
      panels: ["error_rate_chart", "latency_histogram", "request_rate_graph"]
      template: "service-performance"
  performanceOptimization:
    autoScaling:
    - metric: "cpu_utilization"
      target: "70%"
      minInstances: 2
      maxInstances: 50
      scaleUpCooldown: "5m"
      scaleDownCooldown: "10m"
      policies: ["predictive_scaling", "scheduled_scaling"]
    - metric: "memory_utilization"
      target: "80%"
      minInstances: 2
      maxInstances: 50
      scaleUpCooldown: "3m"
      scaleDownCooldown: "15m"
      policies: ["threshold_scaling"]
    cachingStrategy:
    - level: "application_cache"
      ttl: "5 minutes"
      hitRatioTarget: "> 80%"
      evictionPolicy: "lru"
      maxSize: "1GB"
    - level: "database_cache"
      ttl: "30 minutes"
      hitRatioTarget: "> 90%"
      evictionPolicy: "lfu"
      maxSize: "4GB"
    - level: "cdn_cache"
      ttl: "24 hours"
      hitRatioTarget: "> 95%"
      evictionPolicy: "lru"
      maxSize: "100GB"
  reporting:
    dailyReports: ["performance_summary", "sla_status", "resource_utilization"]
    weeklyReports: ["performance_trends", "capacity_planning", "optimization_recommendations"]
    monthlyReports: ["slo_compliance", "performance_baseline", "cost_optimization", "capacity_forecast"]
    stakeholders:
    - role: "CTO"
      reports: ["daily", "weekly", "monthly"]
      channels: ["email", "dashboard"]
    - role: "Engineering Manager"
      reports: ["daily", "weekly", "monthly"]
      channels: ["email", "slack", "dashboard"]
    - role: "Product Manager"
      reports: ["weekly", "monthly"]
      channels: ["email", "dashboard"]
    - role: "Operations Team"
      reports: ["daily", "weekly"]
      channels: ["slack", "dashboard"]
  integrationPoints:
    monitoringSystems: ["prometheus", "grafana", "alertmanager", "jaeger"]
    businessSystems:
    - name: "billing_system"
      purpose: "usage-based billing"
      interface: "REST_API"
      dataFlow: "unidirectional"
      frequency: "hourly"
    - name: "customer_support"
      purpose: "performance incident correlation"
      interface: "Webhook"
      dataFlow: "bidirectional"
      frequency: "real-time"
    - name: "capacity_planning"
      purpose: "resource forecasting"
      interface: "Message_Queue"
      dataFlow: "unidirectional"
      frequency: "daily"
  compliance:
    frameworks: ["ISO-27001", "SOC2", "GDPR"]
    auditRequirements: ["performance_data_retention_1_year", "sla_compliance_reporting", "incident_documentation", "change_impact_analysis"]
    dataRetention:
      performanceData: "1 year"
      auditLogs: "7 years"
      slaReports: "3 years"
    privacy:
      dataAnonymization: true
      gdprCompliance: true
      dataProcessingAgreement: false
