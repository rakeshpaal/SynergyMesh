# ═══════════════════════════════════════════════════════════════════════════════
#                    SynergyMesh Topology Mind Matrix Configuration
#                    核心拓撲自稠密演化心智矩陣（含 Executive Layer）
# ═══════════════════════════════════════════════════════════════════════════════
#
# 整合後唯一拓撲配置檔案
# Single source of truth for mind matrix topology
#
# Dependency: environment.yaml, dependencies.yaml, ai-constitution.yaml,
#             virtual-experts.yaml, safety-mechanisms.yaml
# ═══════════════════════════════════════════════════════════════════════════════

version: "1.0.0"
id: "machinenativeops.topology.mind_matrix"
description: "核心拓撲自稠密演化心智矩陣（含 Executive Layer）"

mind_matrix:
  version: "1.0.0"
  governance_principles:
    - depth_first
    - verifiability_first
    - security_first
    - automation_first
    - traceability_first

  executive_layer:
    version: "1.0.0"
    roles:
      - id: "machinenativeops.ceo"
        title: "總執行長"
        kind: "executive"
        mission:
          - "以自治推理/執行/證明/修復/演化實現全域一致性與可回滾"
          - "確保供應鏈可證明性與策略合規"
        domains: ["strategy", "governance", "resilience"]
        values: ["verifiable", "auditable", "secure-by-default"]
      - id: "machinenativeops.ciso"
        title: "資訊安全長"
        kind: "executive"
        mission:
          - "零信任防護、SBOM 覆蓋、簽名驗證、風險閉環"
        domains: ["security", "supply-chain"]
        values: ["least-privilege", "immutability", "rollback-first"]

    cognitive_stack:
      - id: "L1-perception"
        name: "感知層"
        responsibilities: ["遙測收集", "異常偵測", "時序漂移識別"]
      - id: "L2-reasoning"
        name: "推理層"
        responsibilities: ["因果圖構建", "風險評分", "策略選擇"]
      - id: "L3-execution"
        name: "執行層"
        responsibilities: ["多代理協作", "同步屏障", "回滾點生成"]
      - id: "L4-proof"
        name: "證明層"
        responsibilities: ["審計鏈固化", "SLSA 證據", "行為可驗證性"]

  multi_agent_hypergraph:
    agents:
      - name: "reasoner"
        kind: "distributed_inference"
      - name: "dataplane"
        kind: "data_plane"
      - name: "controlplane"
        kind: "control_plane"
      - name: "monitor"
        kind: "observability"
      - name: "cicd"
        kind: "cicd_orchestrator"
      - name: "policy"
        kind: "policy_engine"
    coordination:
      mechanisms: ["task_decomposition", "resource_arbitration", "load_rebalance", "sync_barrier"]

  tool_pipeline:
    stages:
      - "interface_metadata"
      - "param_validation"
      - "permission_resolution"
      - "security_assessment"
      - "approval_chain"
      - "tool_execution"
      - "history_freeze"
      - "continuous_monitoring"

  yaml_validation_pipeline:
    stages:
      - "lint"
      - "format"
      - "schema"
      - "vector_tests"
      - "policy_gate"
      - "sbom"
      - "signature_verification"

  slsa:
    level: "L3"
    evidence:
      produce: true
      store: "immutable_audit_log"
