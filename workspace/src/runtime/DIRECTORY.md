# runtime

## 目錄職責

此目錄為 MachineNativeOps 的**運行時環境層**，承載 execution 的部署和啟動組件。特別是 Mind Matrix runtime，負責實際的系統運行、部署啟動和運行時狀態管理。

## 子目錄說明

| 子目錄 | 職責 |
|--------|------|
| `mind_matrix/` | Mind Matrix 運行時核心 |

## mind_matrix/ 檔案說明

### main.py

- **職責**：系統主入口點
- **功能**：運行時初始化與系統啟動

### executive_auto.py

- **職責**：自動執行管理
- **功能**：自動化執行任務的協調與管理

### **init**.py

- **職責**：Python 模組初始化
- **功能**：模組導出定義

## 三層執行架構

```
┌─────────────────────────────────────────┐
│   core/execution_architecture/          │  ← 架構設計層
│   定義執行拓撲、agent 編排、工具系統    │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│   core/execution_engine/                │  ← 抽象邏輯層
│   執行邏輯抽象、驗證、回滾介面          │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│   runtime/mind_matrix/                  │  ← 運行時環境層
│   實際部署啟動、運行時狀態管理          │
└─────────────────────────────────────────┘
```

## 職責範圍

**本目錄負責**：

- 實際部署時的啟動邏輯
- 系統初始化和 bootstrap
- 運行時狀態管理
- 運行時協調

**本目錄不負責**：

- 定義執行邏輯抽象（使用 `core/execution_engine/`）
- 定義執行架構（使用 `core/execution_architecture/`）
- 提供 AI 能力（使用 `core/` 中的 AI 引擎）
- 處理配置（配置在 `config/`）

## 依賴規則

**可以依賴**：

- `src/core/execution_engine/` - 使用執行邏輯抽象
- `src/core/execution_architecture/` - 讀取執行架構定義
- `src/shared/` - 共用工具和配置
- `config/` - 運行時配置

**不可依賴**：

- `agent/` - 運行時不應直接依賴業務代理
- `automation/` - 運行時不應直接依賴自動化模組
- `frontend/` - 運行時不應依賴 UI

## 設計原則

1. **分層解耦**：與執行架構和執行引擎分離
2. **狀態管理**：集中管理運行時狀態
3. **可觀測性**：提供運行時監控接口
4. **優雅啟停**：支援系統的優雅啟動和停止

## 與其他目錄的關係

- **src/core/execution_engine/**：調用執行邏輯抽象
- **src/core/execution_architecture/**：讀取架構定義
- **config/**：讀取運行時配置
- **src/shared/**：使用共用工具
