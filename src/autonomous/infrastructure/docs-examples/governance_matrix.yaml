api_boundaries:
  flight_controller_api:
    endpoint: /api/v2/flight/control
    methods:
    - error_codes:
        400: Invalid input parameters
        503: Service unavailable
      input_schema:
        properties:
          target_altitude:
            description: 目標高度（公尺）
            type: number
          target_velocity:
            description: 目標速度向量 [vx, vy, vz]
            items:
              type: number
            type: array
        type: object
      method: POST
      output_schema:
        properties:
          motor_commands:
            items:
              type: number
            type: array
          status:
            enum:
            - executing
            - completed
            - error
            type: string
        type: object
      path: /command
  safety_monitor_api:
    endpoint: /api/v3/safety/check
    methods:
    - input_schema:
        properties:
          control_command:
            type: object
          current_state:
            type: object
        type: object
      method: POST
      output_schema:
        properties:
          is_safe:
            type: boolean
          violation_reason:
            type: string
        type: object
      path: /validate
compatibility_matrix:
  cpp_standards:
  - C++17
  - C++20
  os_platforms:
  - ubuntu_20.04
  - ubuntu_22.04
  - ubuntu_24.04
  python_versions:
  - '3.8'
  - '3.9'
  - '3.10'
  - '3.11'
  - '3.12'
  ros2_versions:
  - humble
  - iron
  - jazzy
error_handling:
  control_error:
    action: emergency_landing
    max_retries: 0
    retry_policy: none
    severity: CRITICAL
  safety_violation:
    action: trigger_emergency_protocol
    max_retries: 0
    retry_policy: none
    severity: CRITICAL
  sensor_error:
    action: fallback_to_last_known_state
    max_retries: 3
    retry_policy: exponential_backoff
    severity: HIGH
last_updated: '2025-11-26'
responsibility_matrix:
  flight_controller:
    api_version: '2.0'
    dependencies:
    - sensor_fusion
    - safety_monitor
    language: C++
    maintainers:
    - alice@company.com
    - bob@company.com
    owner: autonomy_team
    role: flight_control
    sla:
      availability: 99.9%
      error_rate: < 0.1%
      response_time_ms: 10
  safety_monitor:
    api_version: '3.0'
    dependencies:
    - flight_controller
    - sensor_fusion
    language: Python
    maintainers:
    - diana@company.com
    - eve@company.com
    owner: safety_team
    role: safety_enforcement
    sla:
      availability: 99.99%
      error_rate: < 0.01%
      response_time_ms: 5
  sensor_fusion:
    api_version: '1.5'
    dependencies: []
    language: C++
    maintainers:
    - charlie@company.com
    owner: perception_team
    role: sensor_integration
    sla:
      availability: 99.5%
      error_rate: < 0.5%
      response_time_ms: 50
security_requirements:
  audit_logging: enabled
  authentication: OAuth2
  encryption: TLS 1.3
  penetration_testing: quarterly
test_requirements:
  integration_test_coverage: '>= 70%'
  safety_critical_coverage: '>= 95%'
  unit_test_coverage: '>= 80%'
version: '1.0'
