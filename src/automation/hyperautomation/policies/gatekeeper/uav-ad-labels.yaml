apiVersion: machinenativeops.io/v2
kind: RequiredLabels
metadata:
  annotations:
    machinenativeops.io/description: Ensure UAV/AD resources have required labels
      for governance and traceability
  name: uav-ad-required-labels
spec:
  match:
    kinds:
    - apiGroups:
      - ''
      kinds:
      - Namespace
      - ConfigMap
      - Service
    - apiGroups:
      - apps
      kinds:
      - Deployment
      - StatefulSet
      - DaemonSet
  parameters:
    labels:
    - allowedRegex: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
      key: namespace.io/managed-by
    - allowedRegex: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
      key: namespace.io/domain
    - allowedRegex: ^(dev|development|staging|production|prod)$
      key: namespace.io/environment
    - allowedRegex: ^(experimental|stable|deprecated)$
      key: namespace.io/lifecycle
    - allowedRegex: ^(uav|ad)$
      key: uav.io/system
    - allowedRegex: ^L[0-5]$
      key: uav.io/safety-level
    message: Resources must include required labels for UAV/AD governance
