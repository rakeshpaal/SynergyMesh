changelog:
- author: platform@imachinenativeops.com
  changes:
  - 初始版本發布
  - SLSA Level 3 合規
  - Sigstore 整合
  - Provenance 管理
  date: 2025-11-24
  version: 1.0.0
- author: platform@imachinenativeops.com
  changes:
  - Beta 版本
  - 核心功能實作
  date: 2025-11-20
  version: 0.9.0
compliance:
  audit:
    enabled: true
    immutable_log: true
    retention_days: 365
  frameworks:
  - SLSA Level 3
  - in-toto
  - audit-trail
  security_requirements:
  - deterministic_builds: true
  - signed_sbom: true
  - signed_artifacts: true
  - vulnerability_scanning: true
dependencies:
  production:
  - critical: true
    name: express
    version: ^4.21.2
  - critical: true
    name: zod
    version: ^3.22.4
  - critical: true
    name: '@sigstore/sign'
    version: ^2.2.0
  - critical: true
    name: '@sigstore/verify'
    version: ^1.0.0
display_name: 合約 L1 服務
governance_hooks:
  post_upgrade:
  - command: npm run test:smoke
    required: true
    timeout: 2m
    type: smoke_test
  - command: npm run test:integration
    required: false
    timeout: 10m
    type: integration_test
  - command: syft packages . -o spdx-json
    required: true
    type: generate_sbom
  pre_upgrade:
  - command: npm run test:compatibility
    required: true
    timeout: 5m
    type: compatibility_check
  - command: npm audit --production
    fail_on: high
    required: true
    type: security_scan
  - command: opa eval --data policy/manifest-policies.rego
    required: true
    type: policy_simulation
id: contracts-l1-service
language:
  api_responses: en-US
  comments: zh-TW
  documentation: zh-TW
  primary: zh-TW
  secondary: en-US
metadata:
  architecture_pattern: 去AXIOM化重構策略
  created_at: '2025-11-24T00:00:00Z'
  governance_level: deep-validation
  project_structure: imachinenativeops
  updated_at: '2025-11-24T11:54:00Z'
migration_hooks:
  from_0_x_to_1_x:
    breaking_changes:
    - API 端點路徑變更
    - 認證機制更新
    description: 從 0.x 升級至 1.x
    migration_steps:
    - command: scripts/backup.sh
      rollback: scripts/restore.sh
      step: 備份現有資料
    - command: npm run migrate:up
      rollback: npm run migrate:down
      step: 執行資料庫遷移
    - command: scripts/update-config.sh
      rollback: scripts/revert-config.sh
      step: 更新設定檔
    validation:
    - command: npm run test:api-compat
      type: api_compatibility
    - command: npm run test:data-integrity
      type: data_integrity
monitoring:
  health_checks:
    liveness: /healthz
    readiness: /healthz
    startup: /healthz
  logging:
    destination: stdout
    format: json
    level: info
  metrics:
    enabled: true
    endpoint: /metrics
    format: prometheus
name: Contracts L1 Service
owner:
  maintainers:
  - email: platform@imachinenativeops.com
    name: Platform Team
    role: primary
  - email: security@imachinenativeops.com
    name: Security Team
    role: reviewer
  primary_contact: platform@imachinenativeops.com
  secondary_contacts:
  - tech-lead@imachinenativeops.com
  - security-head@imachinenativeops.com
  team: platform-governance
policy_hints:
  availability:
    max_downtime_per_month: 43m
    slo_target: 99.9
  performance:
    response_time_p95: 100ms
    response_time_p99: 200ms
    throughput_min: 500
  resource_limits:
    cpu_limit: 500m
    cpu_request: 250m
    memory_limit: 512Mi
    memory_request: 256Mi
  scaling:
    max_replicas: 10
    min_replicas: 3
    target_cpu_utilization: 70
semantic_version:
  build: null
  major: 1
  minor: 0
  patch: 0
  prerelease: null
service_contracts:
  consumes:
  - contract_ref: contracts/external-api.json#sigstore
    name: sigstore_api
    provider: Sigstore
    required: true
  - contract_ref: contracts/external-api.json#github
    name: github_api
    provider: GitHub
    required: false
  provides:
  - endpoint: /api/v1/provenance
    name: provenance_api
    protocol: REST
    version: v1
  - endpoint: /api/v1/attestation
    name: attestation_api
    protocol: REST
    version: v1
tech_stack:
  build_tool: npm
  framework: Express.js 4.x
  language: TypeScript 5.3+
  package_manager: npm
  runtime: Node.js 18+
version: 1.0.0
