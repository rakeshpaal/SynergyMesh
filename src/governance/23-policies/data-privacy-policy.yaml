data_anonymization:
  anonymization_methods:
    data_masking:
      description: 數據遮罩：部分隱藏敏感信息
      enabled: true
      strategies:
      - example: 0912-***-678
        type: partial_masking
      - example: 'original: 0912345678 → masked: 0987654321 (preserves phone format)'
        type: format_preserving
      - example: 'original: A123456789 → token: TOKEN_X7Y9Z2'
        type: tokenization
    differential_privacy:
      delta: 1.0e-05
      description: 差分隱私：添加統計噪音保護隱私
      enabled: false
      epsilon: 0.1
    k_anonymity:
      description: K-匿名化：確保每組準識別符至少有 k 個記錄
      enabled: true
      example:
        anonymized: '年齡: 30-35, 郵遞區號: 11*, 性別: 男'
        original: '年齡: 32, 郵遞區號: 110, 性別: 男'
      generalization_hierarchy_path: config/privacy/generalization-hierarchy.yaml
      k_value: 5
      suppression_threshold: 0.1
    l_diversity:
      applicable_to:
      - sensitive_attributes
      description: L-多樣性：確保敏感屬性至少有 l 個不同值
      enabled: true
      l_value: 3
    pseudonymization:
      description: 假名化：用假名替換直接識別符
      enabled: true
      hash_algorithm: sha3-256
      key_management: external-kms
      method: cryptographic_hash
      reversible: false
      salt_rotation_period: 90 days
  anonymization_reversibility:
    allowed: false
    exception_cases:
    - approval_required: true
      approvers:
      - '@legal-team'
      - '@security-team'
      reason: legal_obligation
    - approval_required: true
      approvers:
      - '@security-team'
      - '@compliance-team'
      reason: data_breach_investigation
  description: 數據匿名化與去識別化機制
  enabled: true
  enforcement: mandatory_for_pii
  quality_assurance:
    assessment_frequency: quarterly
    re_identification_risk_assessment: true
    risk_threshold: 0.05
data_handling:
  access_control:
    audit_logging:
      enabled: true
      log_all_access: true
      log_retention: 1 year
      tamper_proof: true
    authentication:
      methods:
      - password + totp
      - certificate
      multi_factor_required: true
    authorization:
      approval_workflow:
        approvers:
        - '@data-governance-team'
        enabled: true
      model: rbac
      roles:
      - name: data_viewer
        permissions:
        - read
      - name: data_processor
        permissions:
        - read
        - process
      - name: data_admin
        permissions:
        - read
        - process
        - delete
        - configure
    principle: least_privilege
  data_transfer:
    cross_border_transfer:
      allowed_regions: []
      approval_required: true
      approvers:
      - '@legal-team'
      - '@compliance-team'
      enabled: false
      safeguards_required:
      - adequacy_decision
      - standard_contractual_clauses
      - binding_corporate_rules
    description: 數據傳輸要求
    third_party_sharing:
      allowed_when:
      - data_processing_agreement_signed
      - adequate_safeguards_in_place
      - user_consent_obtained
      annual_audit_required: true
      due_diligence_required: true
      enabled: false
  description: 數據處理技術要求
  encryption:
    backup_encryption:
      algorithm: aes-256-gcm
      enabled: true
      key_escrow: true
    data_at_rest:
      algorithm: aes-256-gcm
      enabled: true
      enforcement: mandatory
      key_management: external-kms
      key_rotation_period: 90 days
    data_in_transit:
      certificate_validation: strict
      enabled: true
      enforcement: mandatory
      minimum_tls_version: '1.2'
      protocol: tls-1.3
enforcement:
  ci_integration:
    checks:
    - pii_detection_scan
    - anonymization_validation
    - gdpr_compliance_check
    enabled: true
  compliance_auditing:
    auditor: external_auditor
    frequency: quarterly
    report_to:
    - '@legal-team'
    - '@executive-team'
    scope: full_data_lifecycle
  runtime_enforcement:
    enabled: true
    mechanisms:
    - api_gateway_policy
    - data_loss_prevention_rules
    - access_control_enforcement
  validation_method: automated + manual_review
  violation_handling:
    severity_levels:
      critical:
        action: block_and_alert
        notification:
        - '@security-team'
        - '@legal-team'
      high:
        action: warn_and_log
        notification:
        - '@compliance-team'
      medium:
        action: log_only
        notification: []
gdpr_compliance:
  applicable: ${GDPR_APPLICABLE:-true}
  consent_management:
    consent_characteristics:
      easy_to_withdraw: true
      freely_given: true
      granular: true
      informed: true
      specific: true
      unambiguous: true
    consent_proof_required: true
    consent_record_retention: as_long_as_data_processed + 3_years
    consent_required_for:
    - marketing communications
    - data sharing with third parties
    - profiling and automated decision-making
    description: 同意管理
  data_breach_notification:
    breach_documentation:
      contents:
      - nature of breach
      - categories and volume of data affected
      - consequences
      - measures taken
      required: true
    description: 數據洩露通知
    notification_to_authority:
      authority: relevant_data_protection_authority
      required: true
      timeframe: 72 hours
    notification_to_individuals:
      method: email / sms / portal_notification
      required_when: high_risk_to_rights_and_freedoms
      timeframe: without_undue_delay
  data_minimization:
    automatic_deletion:
      enabled: true
      schedule: daily
    description: 數據最小化原則
    enabled: true
    requirements:
    - collect only necessary data
    - retain only for required duration
    - delete data when purpose fulfilled
    retention_periods:
      analytics_data: 90 days
      audit_logs: 1 year
      legal_hold_data: as_required_by_law
      operational_data: 30 days
  data_protection_impact_assessment:
    approval_required: true
    approvers:
    - '@legal-team'
    - '@security-team'
    assessment_frequency: annually
    description: 數據保護影響評估 (DPIA)
    required_when:
    - high-risk processing
    - large-scale processing of sensitive data
    - systematic monitoring
    - profiling with legal effects
  data_subject_rights:
    description: 數據主體權利
    right_to_access:
      data_format: json / pdf
      enabled: true
      response_time: 30 days
      self_service_portal: true
    right_to_data_portability:
      enabled: true
      formats:
      - json
      - csv
      - xml
      response_time: 30 days
    right_to_erasure:
      enabled: true
      exceptions:
      - legal_obligation
      - public_interest
      - legal_claims
      hard_delete_after: 90 days
      response_time: 30 days
      soft_delete_period: 30 days
    right_to_object:
      applicable_to:
      - marketing
      - profiling
      enabled: true
      response_time: immediate
    right_to_rectification:
      enabled: true
      response_time: 30 days
      verification_required: true
    right_to_restrict_processing:
      enabled: true
      response_time: 30 days
  deployment_regions:
  - EU
  - EEA
  description: GDPR（通用數據保護條例）合規要求
  enforcement: mandatory
  lawful_basis:
    acceptable_basis:
    - consent
    - contract
    - legal_obligation
    - legitimate_interest (with balancing test)
    - vital_interest
    - public_task
    description: 合法處理依據
    required_documentation: true
  purpose_limitation:
    description: 目的限制原則
    enabled: true
    requirements:
    - clearly define processing purpose
    - do not use data for incompatible purposes
    - document purpose changes
pii_detection:
  description: 個人識別信息檢測與分類機制
  detection_confidence_threshold: 0.8
  detection_methods:
  - description: 正則表達式模式匹配
    method: regex_pattern_matching
    patterns_path: config/privacy/pii-patterns.yaml
  - description: 命名實體識別
    method: named_entity_recognition
    models:
    - spacy-zh-core-lg
    - privacy-bert
  - algorithm: k-anonymity-risk-assessment
    description: 統計推斷（識別準識別符）
    method: statistical_inference
  enabled: true
  enforcement: mandatory
  false_positive_handling: human-review-queue
  pii_categories:
    direct_identifiers:
      description: 直接識別個人的信息
      types:
      - examples:
        - 張三
        - John Doe
        name: full_name
        sensitivity: high
      - examples:
        - 身份證號
        - SSN
        name: national_id
        sensitivity: critical
      - examples:
        - 護照號碼
        name: passport_number
        sensitivity: critical
      - examples:
        - +886-912-345-678
        - (123) 456-7890
        name: phone_number
        sensitivity: high
      - examples:
        - user@example.com
        name: email_address
        sensitivity: high
      - examples:
        - 台北市信義區市府路1號
        name: physical_address
        sensitivity: high
    quasi_identifiers:
      description: 準識別符（組合可識別個人）
      types:
      - name: date_of_birth
        sensitivity: medium
      - name: gender
        sensitivity: medium
      - name: postal_code
        sensitivity: medium
      - name: occupation
        sensitivity: low
    sensitive_attributes:
      description: 敏感屬性
      types:
      - examples:
        - 病歷
        - 診斷記錄
        name: health_information
        sensitivity: critical
      - examples:
        - 銀行帳號
        - 信用卡號
        name: financial_information
        sensitivity: critical
      - examples:
        - 指紋
        - 臉部識別數據
        name: biometric_data
        sensitivity: critical
      - name: political_opinion
        sensitivity: high
      - name: religious_belief
        sensitivity: high
policy_metadata:
  created_date: '2025-12-07'
  description: Data privacy and protection policy for all data processing activities
  enforcement_level: mandatory
  id: data-privacy-policy
  last_updated: '2025-12-07'
  status: active
  version: 1.0.0
policy_scope:
  applies_to:
  - all data processing plugins
  - knowledge processing systems
  - data storage systems
  - data transmission systems
  - external integrations
  data_types_covered:
  - personal identifiable information (PII)
  - sensitive personal data
  - user-generated content
  - system logs containing user data
  - analytics and telemetry data
  jurisdictions:
  - European Union (GDPR)
  - United States (CCPA)
  - Taiwan (PDPA)
  - Global (ISO 27701)
privacy_by_design:
  implementation:
    design_review:
      required: true
      reviewers:
      - '@privacy-team'
      - '@security-team'
      stage: before_development
    privacy_testing:
      frequency: every_release
      required: true
      test_types:
      - pii_detection
      - anonymization
      - access_control
    threat_modeling:
      focus_areas:
      - data_flow
      - storage
      - access
      methodology: stride
      required: true
  principles:
  - proactive not reactive
  - privacy as default setting
  - privacy embedded into design
  - full functionality (positive-sum)
  - end-to-end security
  - visibility and transparency
  - respect for user privacy
references:
  external:
  - https://gdpr.eu/ (GDPR Official)
  - https://ico.org.uk/ (UK Information Commissioner's Office)
  - https://www.iso.org/standard/71670.html (ISO/IEC 27701)
  - https://oag.ca.gov/privacy/ccpa (California CCPA)
  internal:
  - governance/23-policies/base-policy.yaml
  - governance/01-architecture/policies/plugin-quality-gates.yaml
  - docs/ARCHITECTURE/knowledge-graph-processing.md
special_data_categories:
  biometric_data:
    deletion_after_use: true
    description: 生物識別數據
    explicit_consent_required: true
    purpose_specific: true
    storage_limitation: temporary_only
  children_data:
    age_verification_method: self_declaration + verification
    description: 兒童數據（< 16 歲）
    enhanced_protection: true
    marketing_prohibited: true
    parental_consent_required: true
  description: 特殊類別數據的額外保護措施
  health_data:
    access_logging: detailed
    description: 健康數據
    encryption_level: critical
    explicit_consent_required: true
    retention_period: as_required_by_law
training:
  awareness_campaigns:
    channels:
    - email
    - slack
    - training-portal
    frequency: quarterly
    topics:
    - privacy_best_practices
    - recent_incidents
    - policy_updates
  mandatory_training:
    certification_required: true
    completion_tracking: true
    enabled: true
    frequency: annually
    topics:
    - GDPR fundamentals
    - PII handling
    - data breach response
    - user rights management
