actions:
  on_degraded:
  - message: Agent {agent_id} performance degraded
    severity: warning
    type: log
  - action: increase
    enabled: true
    percentage: 20
    type: scale_resources
  on_failure:
  - channels:
    - slack://platform-alerts
    - email://governance@machinenativeops.io
    message_template: 'Agent {agent_id} health check {check_name} failed: {error_message}'
    severity: high
    type: alert
  - enabled: true
    max_attempts: 3
    recovery_actions:
    - restart_agent
    - clear_cache
    - reset_connections
    type: auto_recovery
  - after_failures: 3
    escalate_to: on_call_team
    type: escalate
  on_recovery:
  - message: Agent {agent_id} recovered from failure
    severity: info
    type: log
  - channels:
    - slack://platform-alerts
    type: notify
agents:
  unmanned-island-agent:
    enabled: true
    functional:
    - expected_result: success
      name: automation_capability
      test_endpoint: /test/automation
      type: functional
    - expected_result: passed
      name: compliance_check
      test_endpoint: /test/compliance
      type: functional
    liveness:
    - check_interval_seconds: 30
      command: ps aux | grep unmanned-island-agent
      expected_status: running
      name: agent_process
      type: process
    - endpoint: /health
      expected_status_code: 200
      method: GET
      name: agent_responsive
      timeout_seconds: 5
      type: http
    performance:
    - endpoint: /health
      max_latency_ms: 100
      name: response_time
      type: latency
    - max_value: 1.8GB
      metric: memory
      name: memory_usage
      type: resource
    - max_value: 90%
      metric: cpu
      name: cpu_usage
      type: resource
    readiness:
    - all_required: true
      check_dependencies:
      - SynergyMesh Core Engine
      - Governance Framework
      - Automation Framework
      name: dependencies_available
      type: dependency
    - all_required: true
      check_config_files:
      - .github/agents/my-agent.agent.md
      - governance/30-agents/framework.yaml
      name: configuration_valid
      type: config
global_settings:
  check_interval_seconds: 60
  failure_threshold: 3
  retry_policy:
    backoff_multiplier: 2
    max_retries: 3
    retry_delay_seconds: 5
  success_threshold: 2
  timeout_seconds: 10
health_status:
  degraded:
    color: yellow
    conditions:
    - performance checks failing
    - warning threshold exceeded
    description: Some non-critical checks failing
  healthy:
    color: green
    description: All checks passing
  unhealthy:
    color: red
    conditions:
    - liveness checks failing
    - readiness checks failing
    description: Critical checks failing
  unknown:
    color: gray
    conditions:
    - health check timeout
    - agent not responding
    description: Health status cannot be determined
metadata:
  created_at: '2025-12-11'
  description: Health check configuration for AI agents
  name: Agent Health Checks
  updated_at: '2025-12-11'
  version: 1.0.0
monitoring:
  alerts:
  - condition: health_status == 'unhealthy' for 5 minutes
    name: Agent Down
    severity: critical
  - condition: health_status == 'degraded' for 15 minutes
    name: Agent Degraded
    severity: warning
  dashboards:
  - name: Agent Health Overview
    panels:
    - Health Status Timeline
    - Check Success Rate
    - Response Time Trends
    - Resource Usage
    type: grafana
  metrics_export:
    enabled: true
    endpoint: /metrics
    format: prometheus
    include_metrics:
    - health_check_success_count
    - health_check_failure_count
    - health_check_duration_seconds
    - agent_uptime_seconds
