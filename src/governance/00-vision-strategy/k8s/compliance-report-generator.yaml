apiVersion: machinenativeops.io/v2
kind: CronJob
metadata:
  annotations:
    machinenativeops.io/feature: compliance-reporting
    machinenativeops.io/phase: '5'
  name: compliance-report-generator
  namespace: machinenativenops
spec:
  concurrencyPolicy: Replace
  jobTemplate:
    spec:
      template:
        metadata:
          annotations:
            governance.kai/responsibility: AI_AUTONOMOUS
        spec:
          containers:
          - env:
            - name: EXECUTION_MODE
              value: AUTONOMOUS
            - name: OUTPUT_FORMATS
              value: JSON,YAML,PDF,HTML
            - name: AUTO_DISTRIBUTE
              value: 'true'
            - name: DISTRIBUTION_CHANNELS
              value: slack,email,s3
            - name: HUMAN_APPROVAL
              value: NOT_REQUIRED
            - name: REPORT_TYPES
              value: compliance,health,optimization,predictions
            image: governance-ai-reporter:latest
            name: report-generator
          restartPolicy: OnFailure
  schedule: 0 */6 * * *
