apiVersion: machinenativeops.io/v2
kind: PerformanceTargets
metadata:
  annotations:
    machinenativeops.io/approved-by: cto
    machinenativeops.io/created-by: performance-manager
  labels:
    machinenativeops.io/category: performance
    machinenativeops.io/department: operations
    machinenativeops.io/year: '2025'
  name: enterprise-performance-targets-2025
  namespace: machinenativenops
spec:
  compliance:
    auditRequirements:
    - performance_data_retention_1_year
    - sla_compliance_reporting
    - incident_documentation
    - change_impact_analysis
    dataRetention:
      auditLogs: 7 years
      performanceData: 1 year
      slaReports: 3 years
    frameworks:
    - ISO-27001
    - SOC2
    - GDPR
    privacy:
      dataAnonymization: true
      dataProcessingAgreement: false
      gdprCompliance: true
  description: Comprehensive performance targets for all enterprise services and systems
  effectivePeriod:
    endDate: '2025-12-31'
    reviewFrequency: quarterly
    startDate: '2025-01-01'
  integrationPoints:
    businessSystems:
    - dataFlow: unidirectional
      frequency: hourly
      interface: REST_API
      name: billing_system
      purpose: usage-based billing
    - dataFlow: bidirectional
      frequency: real-time
      interface: Webhook
      name: customer_support
      purpose: performance incident correlation
    - dataFlow: unidirectional
      frequency: daily
      interface: Message_Queue
      name: capacity_planning
      purpose: resource forecasting
    monitoringSystems:
    - prometheus
    - grafana
    - alertmanager
    - jaeger
  monitoringConfiguration:
    alertingRules:
    - annotations:
        description: API response time is above threshold
        summary: High response time detected
      condition: api_response_p95 > 500ms
      duration: 5m
      labels:
        service: api
        team: platform
      name: high_response_time
      severity: warning
    - annotations:
        description: Error rate is above critical threshold
        summary: High error rate detected
      condition: error_percentage > 0.5%
      duration: 2m
      labels:
        service: api
        team: platform
      name: high_error_rate
      severity: critical
    - annotations:
        description: Service availability is below threshold
        summary: Low availability detected
      condition: uptime_percentage < 99.5%
      duration: 10m
      labels:
        service: api
        team: platform
      name: low_availability
      severity: critical
    dashboards:
    - name: system_overview
      panels:
      - availability_gauge
      - response_time_trend
      - throughput_graph
      refreshInterval: 30s
      template: standard-performance
      title: System Overview Dashboard
    - name: service_details
      panels:
      - error_rate_chart
      - latency_histogram
      - request_rate_graph
      refreshInterval: 15s
      template: service-performance
      title: Service Details Dashboard
    metricsCollection:
      aggregation:
      - 1m
      - 5m
      - 1h
      - 1d
      interval: 30 seconds
      retention: 90 days
      storageBackend: prometheus
  performanceCategories:
  - category: availability
    description: 系統可用性指標
    targets:
    - aggregation: average
      businessCritical: true
      displayName: Uptime Percentage
      measurement: monthly
      metric: uptime_percentage
      slaImpact: true
      target: 99.9%
      threshold: 99.5%
      unit: percentage
      weight: 0.3
    - aggregation: sum
      businessCritical: false
      displayName: Planned Downtime
      measurement: monthly
      metric: planned_downtime
      slaImpact: true
      target: < 4 hours/month
      threshold: < 8 hours/month
      unit: hours
      weight: 0.1
  - category: response_time
    description: 響應時間指標
    targets:
    - aggregation: p95
      businessCritical: true
      displayName: API Response Time (95th percentile)
      measurement: continuous
      metric: api_response_p95
      slaImpact: true
      target: < 500ms
      threshold: < 800ms
      unit: milliseconds
      weight: 0.25
    - aggregation: p90
      businessCritical: true
      displayName: Web Page Load Time
      measurement: continuous
      metric: web_page_load_time
      slaImpact: true
      target: < 2 seconds
      threshold: < 3 seconds
      unit: seconds
      weight: 0.15
  - category: throughput
    description: 吞吐量指標
    targets:
    - aggregation: average
      businessCritical: true
      displayName: Requests Per Second
      measurement: continuous
      metric: requests_per_second
      slaImpact: true
      target: '> 10,000'
      threshold: '> 5,000'
      unit: rps
      weight: 0.2
    - aggregation: max
      businessCritical: true
      displayName: Concurrent Users
      measurement: continuous
      metric: concurrent_users
      slaImpact: false
      target: '> 50,000'
      threshold: '> 25,000'
      unit: users
      weight: 0.1
  - category: error_rate
    description: 錯誤率指標
    targets:
    - aggregation: average
      businessCritical: true
      displayName: Error Rate
      measurement: continuous
      metric: error_percentage
      slaImpact: true
      target: < 0.1%
      threshold: < 0.5%
      unit: percentage
      weight: 0.3
    - aggregation: sum
      businessCritical: true
      displayName: Critical Errors
      measurement: daily
      metric: critical_errors
      slaImpact: true
      target: '0'
      threshold: < 5 per day
      unit: count
      weight: 0.2
  performanceOptimization:
    autoScaling:
    - maxInstances: 50
      metric: cpu_utilization
      minInstances: 2
      policies:
      - predictive_scaling
      - scheduled_scaling
      scaleDownCooldown: 10m
      scaleUpCooldown: 5m
      target: 70%
    - maxInstances: 50
      metric: memory_utilization
      minInstances: 2
      policies:
      - threshold_scaling
      scaleDownCooldown: 15m
      scaleUpCooldown: 3m
      target: 80%
    cachingStrategy:
    - evictionPolicy: lru
      hitRatioTarget: '> 80%'
      level: application_cache
      maxSize: 1GB
      ttl: 5 minutes
    - evictionPolicy: lfu
      hitRatioTarget: '> 90%'
      level: database_cache
      maxSize: 4GB
      ttl: 30 minutes
    - evictionPolicy: lru
      hitRatioTarget: '> 95%'
      level: cdn_cache
      maxSize: 100GB
      ttl: 24 hours
  reporting:
    dailyReports:
    - performance_summary
    - sla_status
    - resource_utilization
    monthlyReports:
    - slo_compliance
    - performance_baseline
    - cost_optimization
    - capacity_forecast
    stakeholders:
    - channels:
      - email
      - dashboard
      reports:
      - daily
      - weekly
      - monthly
      role: CTO
    - channels:
      - email
      - slack
      - dashboard
      reports:
      - daily
      - weekly
      - monthly
      role: Engineering Manager
    - channels:
      - email
      - dashboard
      reports:
      - weekly
      - monthly
      role: Product Manager
    - channels:
      - slack
      - dashboard
      reports:
      - daily
      - weekly
      role: Operations Team
    weeklyReports:
    - performance_trends
    - capacity_planning
    - optimization_recommendations
  serviceLevelObjectives:
  - alerting:
      burnRateAlert: true
      burnRateThreshold: 2
      notificationChannels:
      - slack
      - email
      - pagerduty
    availabilityTarget: 99.9%
    compliance:
      auditRequired: true
      frameworks:
      - SOX
      - ISO-27001
      reportingFrequency: monthly
    description: 關鍵服務 SLO
    errorBudget: 0.1%
    latencyTarget: p99 < 500ms
    measurementPeriod: 30 days
    name: critical_services_slo
    services:
    - payment-service
    - user-auth
    - core-api
    - order-processing
  - alerting:
      burnRateAlert: true
      burnRateThreshold: 1.5
      notificationChannels:
      - slack
      - email
    availabilityTarget: 99.5%
    compliance:
      auditRequired: true
      frameworks:
      - SOX
      reportingFrequency: monthly
    description: 用戶面向服務 SLO
    errorBudget: 0.5%
    latencyTarget: p95 < 1s
    measurementPeriod: 30 days
    name: user_facing_services_slo
    services:
    - web-portal
    - mobile-app
    - customer-dashboard
  targetsId: TARGETS-2025-001
  title: Enterprise Performance Targets 2025
  version: 1.0.0
