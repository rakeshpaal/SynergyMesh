apiVersion: machinenativeops.io/v2
complete_resource_example:
  description: 展示所有命名規範在單一資源中的應用
  resource:
    apiVersion: governance.machinenativeops.io/v2
    kind: DimensionModule
    metadata:
      annotations:
        machinenativeops.io/canonical-urn: urn:machinenativeops:governance:naming-convention:v1
        machinenativeops.io/description: 統一命名規範治理維度
        machinenativeops.io/naming-mode: team-domain-env
      category: meta-specification
      created_at: '2025-12-18T00:00:00Z'
      id: 99-naming-convention
      name: 統一命名規範治理
      name_en: Unified Naming Convention Governance
      owner: governance-bot
      updated_at: '2025-12-18T00:00:00Z'
      urn: urn:machinenativeops:governance:naming-convention:v1
      version: 1.0.0
    spec:
      dependencies:
        required:
        - id: 01-architecture
          type: required
          version: ^1.0.0
      policy:
        path: ./policy.rego
      schema:
        path: ./schema.json
    status: active
  validation_checklist:
  - check: 目錄路徑使用 kebab-case
    result: ✅ 通過
  - check: 檔案名使用 kebab-case
    result: ✅ 通過
  - check: YAML 鍵使用 snake_case
    result: ✅ 通過
  - check: 枚舉值使用 kebab-case
    result: ✅ 通過
  - check: 版本符合 SemVer
    result: ✅ 通過
  - check: URN 符合標準格式
    result: ✅ 通過
  - check: 註解使用命名空間前綴
    result: ✅ 通過
directory_examples:
  correct:
  - explanation: 標準根目錄
    path: src/
    type: root
  - explanation: 完整維度路徑，使用 kebab-case
    path: src/governance/dimensions/99-naming-convention/
    type: dimension
  - explanation: 配置目錄使用環境縮寫
    path: config/prod/
    type: config
  - explanation: 腳本目錄使用用途分類
    path: scripts/ci/
    type: scripts
  incorrect:
  - correction: src/
    issue: DIR-001 違規：使用大寫
    path: Source/
  - correction: src/ai/
    issue: DIR-001 違規：使用大寫
    path: src/AI/
  - correction: my-scripts/ 或 scripts/
    issue: DIR-001 違規：使用底線
    path: my_scripts/
file_examples:
  correct:
  - explanation: kebab-case 配置檔
    name: naming-convention.yaml
    type: config
  - explanation: 標準策略檔名
    name: policy.rego
    type: policy
  - explanation: 特殊標記檔案使用大寫
    name: README.md
    type: special
  incorrect:
  - correction: naming-convention.yaml
    issue: FILE-001 違規：使用 PascalCase
    name: NamingConvention.yaml
  - correction: my-config.yaml
    issue: FILE-001 違規：使用底線
    name: my_config.yaml
key_examples:
  annotations:
    correct:
    - explanation: 使用命名空間前綴
      key: machinenativeops.io/canonical-urn
      value: urn:machinenativeops:governance:naming-convention:v1
    - explanation: 標準註解格式
      key: machinenativeops.io/naming-mode
      value: team-domain-env
  yaml_config:
    correct:
    - context: YAML 配置
      explanation: 使用 snake_case
      key: api_version
    - context: 時間戳鍵
      explanation: 使用 snake_case
      key: created_at
    - context: 數值配置
      explanation: 使用 snake_case
      key: max_retry_count
    incorrect:
    - context: YAML 配置（非 K8s 標準欄位）
      correction: api_version
      issue: KEY-001 違規：使用 camelCase
      key: apiVersion
    - context: YAML 配置
      correction: max_retry_count
      issue: KEY-001 違規：使用 PascalCase
      key: MaxRetryCount
kind: NamingConventionExample
metadata:
  created_at: '2025-12-18T00:00:00Z'
  id: complete-naming-example
  name: 完整命名規範範例
  name_en: Complete Naming Convention Examples
  owner: governance-bot
  urn: urn:machinenativeops:governance:naming-example:complete:v1
  version: 1.0.0
uri_examples:
  api:
    correct:
    - explanation: 資源集合端點
      uri: /api/v1/dimensions
    - explanation: 單一資源端點
      uri: /api/v1/dimensions/99-naming-convention
    - explanation: 版本化 API
      uri: /api/v2/governance/policies
    incorrect:
    - correction: /api/v1/dimensions
      issue: URI-001 違規：使用大寫
      uri: /API/V1/Dimensions
    - correction: /api/v1/dimensions
      issue: URI-001 違規：缺少版本號
      uri: /api/dimensions
urn_examples:
  environment_scoped:
    correct:
    - environment: prod
      explanation: 生產環境範圍 URN
      urn: urn:machinenativeops:prod:governance:naming-convention:v1
  standard:
    correct:
    - domain: governance
      explanation: 標準 URN 格式
      resource: naming-convention
      urn: urn:machinenativeops:governance:naming-convention:v1
      version: v1
    - domain: ai
      explanation: AI 域資源 URN
      resource: cognitive-engine
      urn: urn:machinenativeops:ai:cognitive-engine:v2
      version: v2
    incorrect:
    - correction: urn:machinenativeops:governance:naming-convention:v1
      issue: URN-001 違規：使用大寫
      urn: urn:MachineNativeOps:Governance:NamingConvention
  with_checksum:
    correct:
    - explanation: 帶校驗碼的 URN
      urn: urn:machinenativeops:governance:naming-convention:v1:sha256-a1b2c3d4
validation_commands:
  directory_check: 'find . -type d | grep -v node_modules | grep -v .git | \

    grep -E ''[A-Z_]'' && echo "違規目錄發現" || echo "目錄命名合規"

    '
  file_check: 'find . -type f -name ''*.yaml'' -o -name ''*.json'' | grep -v node_modules
    | \

    xargs -I{} basename {} | grep -E ''^[A-Z]|_'' && echo "違規檔案發現" || echo "檔案命名合規"

    '
  opa_validation: 'conftest test . --policy src/governance/dimensions/99-naming-convention/policy.rego

    '
  urn_check: 'grep -rh ''urn:'' --include=''*.yaml'' | \

    grep -v ''urn:machinenativeops:[a-z0-9-]*:[a-z0-9-]*'' && \

    echo "URN 格式違規" || echo "URN 格式合規"

    '
value_examples:
  booleans:
    correct:
    - explanation: 標準布林值
      value: true
    - explanation: 標準布林值
      value: false
    incorrect:
    - correction: true
      issue: VAL-002 違規：非標準布林表示
      value: 'yes'
    - correction: true
      issue: VAL-002 違規：使用數字表示布林
      value: '1'
  enums:
    correct:
    - context: 狀態枚舉
      explanation: 小寫 kebab-case
      value: active
    - context: 狀態枚舉
      explanation: 多詞使用連字符
      value: in-progress
    - context: 狀態枚舉
      explanation: 小寫 kebab-case
      value: pending-review
    incorrect:
    - correction: active
      issue: VAL-001 違規：首字母大寫
      value: Active
    - correction: in-progress
      issue: VAL-001 違規：使用底線和大寫
      value: IN_PROGRESS
  environments:
    correct:
    - explanation: 標準縮寫
      full_name: development
      value: dev
    - explanation: 完整名稱（無縮寫）
      full_name: staging
      value: staging
    - explanation: 標準縮寫
      full_name: production
      value: prod
    incorrect:
    - correction: dev
      issue: VAL-004 違規：應使用縮寫
      value: development
    - correction: prod
      issue: VAL-004 違規：應使用縮寫
      value: production
  versions:
    correct:
    - explanation: 語意化版本
      value: 1.0.0
    - explanation: 帶 v 前綴的版本
      value: v2.1.3
    - explanation: 預發布版本
      value: 1.0.0-alpha
    incorrect:
    - correction: 1.0.0
      issue: VAL-003 違規：缺少修訂號
      value: '1.0'
    - correction: 1.0.0
      issue: VAL-003 違規：無效格式
      value: version-1.0.0
