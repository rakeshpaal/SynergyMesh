apiVersion: machinenativeops.io/v2
kind: NamingSpec
metadata:
  id: dependency-standards
  name: 依賴規範
  name_en: Dependency Standards
  parent: 99-naming-convention
  urn: urn:machinenativeops:governance:naming-spec:dependency:v1
  version: 1.0.0
spec:
  cycle_prevention:
    description: 禁止循環依賴
    max_depth: 10
    validation: acyclic_graph_check
  declaration_format:
    example:
      id: 01-architecture
      reason: 命名規範基於架構設計原則
      type: required
      version: ^1.0.0
    optional_fields:
    - reason
    - alternatives
    required_fields:
    - id
    - version
    - type
  dependency_types:
  - description: 必需依賴，缺失則無法運行
    type: required
  - description: 可選依賴，提供額外功能
    type: optional
  - description: 對等依賴，需消費者提供
    type: peer
  description: '此規範定義依賴聲明和版本約束的標準格式。

    '
  transitive_visibility:
    rules:
    - 直接依賴必須顯式聲明
    - 傳遞依賴必須記錄
    - 對等依賴必須聲明
  version_constraints:
    caret:
      description: 相容次版本更新
      syntax: ^1.2.3
    exact:
      description: 精確版本
      syntax: 1.2.3
    range:
      description: 版本範圍
      syntax: '>=1.0.0 <2.0.0'
    tilde:
      description: 相容修訂版更新
      syntax: ~1.2.3
    wildcard:
      description: 主版本通配
      syntax: 1.x
