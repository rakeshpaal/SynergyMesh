apiVersion: machinenativeops.io/v2
kind: ComplianceExceptionRequest
metadata:
  id: EXC-YYYY-NNN
  applicant: team-name-or-user-id
  createdAt: YYYY-MM-DDTHH:MM:SSZ
  labels:
    machinenativeops.io/urgency: ''
    machinenativeops.io/category: ''
spec:
  item: '详细说明需要例外的项目。

    例如: "遗留支付系统使用非标准命名convention: legacy-payment-svc"

    '
  policyViolated: naming-governance/k8s-deployment-naming
  reason: '详细解释为什么需要偏离标准规范。

    例如: "遗留系统迁移成本过高，且计划在 6 个月内退役。

    重命名会导致停机 2 周，影响关键业务。"

    '
  businessJustification: '业务影响和必要性说明。

    例如: "该系统服务 500+ 重要客户，停机会造成重大业务损失。

    客户合同中硬编码了现有服务名称。"

    '
  technicalConstraints: '技术限制说明。

    例如: "服务发现、负载均衡、监控系统都硬编码了现有名称。

    涉及 20+ 个配置文件和 5 个第三方集成。"

    '
  riskEvaluation:
    level: 中
    description: '评估例外带来的风险。

      例如: "命名不一致可能导致运维团队混淆，

      但影响可通过文档和监控缓解。"

      '
    mitigationMeasures:
    - 在文档中明确标注例外
    - 设置特殊监控和告警
    - 禁止创建类似的新资源
    - 定期复审例外状态
    residualRisk: '实施缓解措施后的剩余风险。

      例如: "运维人员可能误操作，但概率低且影响可控。"

      '
  requestedExpire: YYYY-MM-DD
  linkedChangeId: CHG-YYYY-NNN
  scope:
    resources:
    - production/legacy-payment-svc
    - production/legacy-payment-deploy
    environments:
    - production
    services:
    - legacy-payment
  approval:
    status: UnderReview
    reviewer: ''
    reviewedAt: ''
    approvalConditions:
    - 每季度复审一次
    - 不得扩展到其他服务
    - 必须有明确的退役计划
    comments: ''
  monitoring:
    reviewFrequency: quarterly
    alertsEnabled: true
    auditLog: true
  remediation:
    plan: '详细的补救计划。

      例如: "系统将在 2026-06-30 退役，届时例外自动解决。

      在此之前，禁止创建新的类似资源。"

      '
    targetDate: YYYY-MM-DD
    responsible: team-lead-or-user-id
status:
  currentStatus: Pending
  expiresAt: ''
  lastReviewDate: ''
  nextReviewDate: ''
  renewalCount: 0
--- null
...
