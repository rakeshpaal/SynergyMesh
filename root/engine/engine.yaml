apiVersion: machinenativeops.io/v1
kind: AAPS Engine
metadata:
  description: AI Architecture & Artifact Provisioning System Core Engine
  name: aaps-core-engine
  version: 1.0.0
spec:
  architecture:
    data:
      backup: continuous
      consistency: eventual
      storage: distributed
    security:
      authentication: mfa
      authorization: rbac
      encryption: aes-256
    system:
      communication: async
      discovery: service-mesh
      type: microservices
  capabilities:
  - architecture-definition
  - artifact-provisioning
  - gate-orchestration
  - spec-validation
  - policy-enforcement
  - registry-management
  - evidence-generation
  - supply-chain-governance
  engine:
    concurrency:
      max_concurrent_operations: 10
      operation_timeout: 5m
      queue_size: 100
    mode: production
    resources:
      cpu: 1000m
      memory: 2Gi
      storage: 10Gi
    retry:
      backoff_strategy: exponential
      initial_delay: 1s
      max_attempts: 3
      max_delay: 30s
  gates:
    definitions:
      performance-gate:
        description: Performance benchmarking
        enabled: true
        name: performance-gate
        type: performance
      security-gate:
        description: Security and vulnerability scanning
        enabled: true
        name: security-gate
        type: security
      validation-gate:
        description: Validates configuration and compliance
        enabled: true
        name: validation-gate
        type: validation
    execution:
      continue_on_failure: false
      parallel: false
      retry_on_failure: true
      timeout: 10m
  integrations:
    logging:
      elasticsearch:
        enabled: true
        endpoint: http://elasticsearch:9200
        index_pattern: machine-native-ops-*
      loki:
        enabled: true
        endpoint: http://loki:3100
    monitoring:
      grafana:
        dashboard_path: /d/machine-native-ops
        enabled: true
        endpoint: http://grafana:3000
      prometheus:
        enabled: true
        endpoint: http://prometheus:9090
        metrics_path: /metrics
    notifications:
      email:
        enabled: true
        password: ${SMTP_PASSWORD}
        smtp_port: 587
        smtp_server: ${SMTP_SERVER}
        username: ${SMTP_USERNAME}
      slack:
        channel: '#machine-native-ops'
        enabled: true
        webhook_url: ${SLACK_WEBHOOK_URL}
  performance:
    batch:
      max_wait_time: 5s
      size: 100
      timeout: 1m
    cache:
      endpoint: redis://redis:6379
      max_size: 1GB
      ttl: 1h
      type: redis
    connection_pool:
      connection_timeout: 30s
      idle_timeout: 5m
      max_connections: 100
      max_idle_connections: 10
  provisioning:
    sources:
    - branch: main
      type: git
      url: https://github.com/MachineNativeOps/MachineNativeOps
    - type: registry
      url: docker.io/machinenativeops
    strategies:
    - description: Blue-green deployment strategy
      enabled: true
      name: blue-green
    - description: Canary deployment strategy
      enabled: true
      initial_weight: 10
      name: canary
    - description: Rolling update strategy
      enabled: true
      max_surge: 1
      max_unavailable: 1
      name: rolling
status:
  created: '2025-12-21T05:14:00Z'
  health_status: healthy
  last_health_check: '2025-12-21T05:14:00Z'
  phase: operational
  updated: '2025-12-21T05:14:00Z'
  validated: true
  version: 1.0.0
