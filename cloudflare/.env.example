# ============================================================================
# MachineNativeOps - Cloudflare Environment Configuration
# ============================================================================
# Copy this file to .env and fill in the actual values.
# DO NOT commit the .env file with real credentials to version control.
#
# For GitHub Actions, add these as repository secrets:
#   Settings > Secrets and variables > Actions > New repository secret
# ============================================================================

# === Cloudflare Account Configuration ===
# Get these from: https://dash.cloudflare.com/profile/api-tokens

# Your Cloudflare Account ID
# Found at: Dashboard > Workers & Pages > Overview (right sidebar)
CLOUDFLARE_ACCOUNT_ID=your_account_id_here

# Cloudflare API Token (recommended over Global API Key)
# Create at: https://dash.cloudflare.com/profile/api-tokens
# Required permissions:
#   - Account: Cloudflare Workers Scripts:Edit
#   - Account: Cloudflare Workers KV Storage:Edit
#   - Account: Cloudflare Workers R2 Storage:Edit
#   - Account: D1:Edit
#   - Zone: Cloudflare Pages:Edit (if using custom domains)
#   - Zone: DNS:Edit (if managing DNS)
CLOUDFLARE_API_TOKEN=your_api_token_here

# Zone ID (for custom domain routing)
# Found at: Dashboard > Websites > [Your Domain] > Overview (right sidebar)
CLOUDFLARE_ZONE_ID=your_zone_id_here

# === GitHub Integration Configuration ===
# For webhook handling and GitHub API access

# GitHub Personal Access Token
# Create at: https://github.com/settings/tokens
# Required scopes:
#   - repo (for repository access)
#   - workflow (for GitHub Actions)
#   - admin:repo_hook (for webhook management)
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx

# GitHub Webhook Secret
# Random string used to verify webhook payloads
# Generate with: openssl rand -hex 32
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here

# GitHub App ID and Private Key (alternative to PAT)
# GITHUB_APP_ID=123456
# GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n..."

# === Deployment Configuration ===

# Environment: development | staging | production
ENVIRONMENT=development

# API Backend URL (for proxying requests)
API_BACKEND_URL=https://api.machinenativeops.com

# === Cloudflare Services Configuration ===

# KV Namespace IDs (create with: wrangler kv:namespace create <NAME>)
# Run `wrangler kv:namespace list` to see existing namespaces
CF_KV_CACHE_ID=
CF_KV_SESSIONS_ID=

# D1 Database ID (create with: wrangler d1 create <NAME>)
# Run `wrangler d1 list` to see existing databases
CF_D1_DATABASE_ID=

# R2 Bucket Name (create with: wrangler r2 bucket create <NAME>)
# Run `wrangler r2 bucket list` to see existing buckets
CF_R2_BUCKET_NAME=machinenativeops-assets

# === Optional: Cloudflare Advanced Services ===

# Hyperdrive Configuration (for database connection pooling)
# CF_HYPERDRIVE_ID=

# Vectorize Index (for vector search)
# CF_VECTORIZE_INDEX_ID=

# Queue Configuration
# CF_QUEUE_NAME=machinenativeops-tasks

# === Rate Limiting Configuration ===

# Requests per minute per IP
RATE_LIMIT_RPM=100

# Rate limit window in milliseconds
RATE_LIMIT_WINDOW_MS=60000

# === Monitoring & Logging ===

# Enable detailed logging
ENABLE_DEBUG_LOGGING=false

# Logpush destination (optional)
# LOGPUSH_DESTINATION=https://logs.example.com/cloudflare

# === Custom Domain Configuration ===

# Production domain
PRODUCTION_DOMAIN=machinenativeops.com
PRODUCTION_API_SUBDOMAIN=api

# Staging domain
STAGING_DOMAIN=staging.machinenativeops.com
STAGING_API_SUBDOMAIN=staging-api

# Development domain (workers.dev)
# Automatically set based on worker name

# === SSL/TLS Configuration ===

# SSL Mode: off | flexible | full | strict
CLOUDFLARE_SSL_MODE=strict

# Minimum TLS Version: 1.0 | 1.1 | 1.2 | 1.3
CLOUDFLARE_MIN_TLS_VERSION=1.2

# === Security Configuration ===

# Enable Cloudflare Access (Zero Trust)
ENABLE_CLOUDFLARE_ACCESS=false

# Access Policy ID (if using Cloudflare Access)
# CF_ACCESS_POLICY_ID=

# === Analytics Configuration ===

# Enable Cloudflare Analytics
ENABLE_ANALYTICS=true

# Web Analytics Site Tag
# CF_ANALYTICS_SITE_TAG=
